INFO:     Will watch for changes in these directories: ['/Users/user/TuAppDeAccesorios/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [30819] using WatchFiles
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x11194c6e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111940e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111941310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 11:00:22,756 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [30823]
INFO:     Waiting for application startup.
2025-07-06 11:00:22,783 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
2025-07-06 11:02:55,439 - app.cache - ERROR - get:101 - Error getting cache key response_cache:e1883400bb9af3c57507777b9d048290: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:02:55,443 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:02:55,471 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:02:55,475 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 11:02:55,475 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00046s] ('%iphone%', '%iphone%', '%iphone%', 'iphone%', 'iphone%', 5, 0)
2025-07-06 11:02:55,486 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:02:55,486 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:02:55,487 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.047s
INFO:     127.0.0.1:57650 - "GET /products/search?q=iphone&limit=5 HTTP/1.1" 200 OK
2025-07-06 11:03:56,651 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:03:56,656 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:03:56,657 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:57967 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:03:56,667 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:03:56,668 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:03:56,691 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:03:56,694 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 11:03:56,694 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00023s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 11:03:56,704 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:03:56,705 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:03:56,705 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.037s
INFO:     127.0.0.1:57967 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:04:00,571 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:00,577 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:00,578 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.009s
INFO:     127.0.0.1:57989 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 11:04:00,582 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:00,584 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:00,585 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.003s
INFO:     127.0.0.1:57989 - "POST /sales HTTP/1.1" 404 Not Found
2025-07-06 11:04:02,932 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:02,934 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:02,934 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.002s
INFO:     127.0.0.1:57989 - "POST /sales HTTP/1.1" 404 Not Found
2025-07-06 11:04:17,460 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:04:17,463 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:17,481 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:04:17,485 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 11:04:17,486 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00047s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 11:04:17,489 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:04:17,489 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:17,490 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.028s
INFO:     127.0.0.1:58069 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:04:24,755 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:24,764 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:24,765 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.010s
INFO:     127.0.0.1:58109 - "POST /sales HTTP/1.1" 404 Not Found
2025-07-06 11:04:57,480 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:57,564 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:04:57,576 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:04:57,578 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00174s] ('admin', 1, 0)
2025-07-06 11:04:57,597 - passlib.handlers.bcrypt - WARNING - _load_backend_mixin:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-06 11:04:58,094 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 11:04:58,098 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:04:58,099 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:58,099 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.621s
INFO:     127.0.0.1:58283 - "POST /token HTTP/1.1" 200 OK
2025-07-06 11:04:58,109 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:58,110 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:58,110 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:58290 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 11:04:58,112 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:04:58,117 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:04:58,118 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:04:58,118 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] ('admin', 1, 0)
2025-07-06 11:04:58,119 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:04:58,120 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:04:58,120 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.008s
INFO:     127.0.0.1:58283 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 11:05:00,531 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:00,534 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:00,535 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
INFO:     127.0.0.1:58302 - "OPTIONS /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:05:00,542 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:00,553 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:05:00,557 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 11:05:00,557 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00061s] (10, 0)
2025-07-06 11:05:00,563 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:4542cab41b4e2ce9ffe30fafd3ff0a9f: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:00,568 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 11:05:00,568 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] ()
2025-07-06 11:05:00,571 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:4542cab41b4e2ce9ffe30fafd3ff0a9f: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:00,574 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:05:00,574 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:00,574 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.033s
INFO:     127.0.0.1:58304 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:05:15,116 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:15,118 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:15,118 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:15,121 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:15,122 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:15,122 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
2025-07-06 11:05:15,122 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:15,122 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.005s
2025-07-06 11:05:15,123 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.005s
INFO:     127.0.0.1:58376 - "OPTIONS /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58378 - "OPTIONS /products/?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:58380 - "OPTIONS /distributors/ HTTP/1.1" 200 OK
2025-07-06 11:05:15,129 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:15,134 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:15,135 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:15,146 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:05:15,148 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:05:15,148 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] ('admin', 1, 0)
2025-07-06 11:05:15,158 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT consignment_loans.id AS consignment_loans_id, consignment_loans.distributor_id AS consignment_loans_distributor_id, consignment_loans.product_id AS consignment_loans_product_id, consignment_loans.quantity_loaned AS consignment_loans_quantity_loaned, consignment_loans.loan_date AS consignment_loans_loan_date, consignment_loans.return_due_date AS consignment_loans_return_due_date, consignment_loans.status AS consignment_loans_status, distributors_1.id AS distributors_1_id, distributors_1.name AS distributors_1_name, distributors_1.contact_person AS distributors_1_contact_person, distributors_1.phone_number AS distributors_1_phone_number, distributors_1.access_code AS distributors_1_access_code, products_1.id AS products_1_id, products_1.sku AS products_1_sku, products_1.name AS products_1_name, products_1.description AS products_1_description, products_1.image_url AS products_1_image_url, products_1.cost_price AS products_1_cost_price, products_1.selling_price AS products_1_selling_price, products_1.stock_quantity AS products_1_stock_quantity 
FROM consignment_loans LEFT OUTER JOIN distributors AS distributors_1 ON distributors_1.id = consignment_loans.distributor_id LEFT OUTER JOIN products AS products_1 ON products_1.id = consignment_loans.product_id ORDER BY consignment_loans.loan_date DESC
 LIMIT ? OFFSET ?
2025-07-06 11:05:15,158 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00039s] (100, 0)
2025-07-06 11:05:15,170 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:05:15,170 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 11:05:15,170 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (100, 0)
2025-07-06 11:05:15,171 - app.cache - ERROR - get:101 - Error getting cache key cache:distributors:get_distributors:37f6259092b26d9fee5b883edf205d11: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:15,171 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:05:15,172 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT distributors.id AS distributors_id, distributors.name AS distributors_name, distributors.contact_person AS distributors_contact_person, distributors.phone_number AS distributors_phone_number, distributors.access_code AS distributors_access_code 
FROM distributors
 LIMIT ? OFFSET ?
2025-07-06 11:05:15,172 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] (100, 0)
2025-07-06 11:05:15,173 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:280ddac8f12a3ca841cbcbafb01bf355: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:15,174 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 11:05:15,174 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] ()
2025-07-06 11:05:15,174 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:05:15,175 - app.cache - ERROR - set:89 - Error setting cache key cache:distributors:get_distributors:37f6259092b26d9fee5b883edf205d11: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:15,175 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:15,175 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:280ddac8f12a3ca841cbcbafb01bf355: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:15,175 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.047s
2025-07-06 11:05:15,175 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
INFO:     127.0.0.1:58382 - "GET /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 11:05:15,176 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:05:15,177 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:15,177 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.042s
2025-07-06 11:05:15,177 - app.app.middleware - INFO - info:165 - Request completed
INFO:     127.0.0.1:58386 - "GET /distributors/ HTTP/1.1" 200 OK
2025-07-06 11:05:15,178 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.047s
INFO:     127.0.0.1:58384 - "GET /products/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 11:05:26,873 - app.cache - ERROR - get:101 - Error getting cache key response_cache:2c4ca559681283d30790aa2627c5c701: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:05:26,882 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:05:26,893 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:05:26,897 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.012s
INFO:     127.0.0.1:58459 - "GET /sales HTTP/1.1" 404 Not Found
2025-07-06 11:06:42,103 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:06:42,150 - app.app.dependencies - ERROR - error:178 - Database session error
2025-07-06 11:06:42,419 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:06:42,434 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.331s
INFO:     127.0.0.1:58843 - "POST /pos/sales HTTP/1.1" 401 Unauthorized
2025-07-06 11:07:09,186 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:07:09,222 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:07:09,224 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:07:09,225 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00020s] ('admin', 1, 0)
2025-07-06 11:07:09,627 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 11:07:09,631 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:07:09,631 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:07:09,631 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.446s
INFO:     127.0.0.1:58997 - "POST /token HTTP/1.1" 200 OK
2025-07-06 11:07:09,642 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:07:09,644 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:07:09,648 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:07:09,648 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00025s] ('admin', 1, 0)
2025-07-06 11:07:09,650 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:07:09,650 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:07:09,650 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.008s
INFO:     127.0.0.1:58997 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 11:07:19,695 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:07:19,715 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:07:19,718 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 11:07:19,719 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00041s] (10, 0)
2025-07-06 11:07:19,729 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:b065e176bc90725729f2a4bac2bf70c1: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:07:19,730 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 11:07:19,730 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] ()
2025-07-06 11:07:19,732 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:b065e176bc90725729f2a4bac2bf70c1: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:07:19,734 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:07:19,735 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:07:19,736 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.041s
INFO:     127.0.0.1:59061 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:07:24,939 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:07:24,940 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:07:24,940 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:07:24,967 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:07:24,973 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:07:24,975 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00234s] ('admin', 1, 0)
2025-07-06 11:07:24,989 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT consignment_loans.id AS consignment_loans_id, consignment_loans.distributor_id AS consignment_loans_distributor_id, consignment_loans.product_id AS consignment_loans_product_id, consignment_loans.quantity_loaned AS consignment_loans_quantity_loaned, consignment_loans.loan_date AS consignment_loans_loan_date, consignment_loans.return_due_date AS consignment_loans_return_due_date, consignment_loans.status AS consignment_loans_status, distributors_1.id AS distributors_1_id, distributors_1.name AS distributors_1_name, distributors_1.contact_person AS distributors_1_contact_person, distributors_1.phone_number AS distributors_1_phone_number, distributors_1.access_code AS distributors_1_access_code, products_1.id AS products_1_id, products_1.sku AS products_1_sku, products_1.name AS products_1_name, products_1.description AS products_1_description, products_1.image_url AS products_1_image_url, products_1.cost_price AS products_1_cost_price, products_1.selling_price AS products_1_selling_price, products_1.stock_quantity AS products_1_stock_quantity 
FROM consignment_loans LEFT OUTER JOIN distributors AS distributors_1 ON distributors_1.id = consignment_loans.distributor_id LEFT OUTER JOIN products AS products_1 ON products_1.id = consignment_loans.product_id ORDER BY consignment_loans.loan_date DESC
 LIMIT ? OFFSET ?
2025-07-06 11:07:24,989 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00030s] (100, 0)
2025-07-06 11:07:24,990 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:07:24,991 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 11:07:24,992 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00135s] (100, 0)
2025-07-06 11:07:24,993 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:07:24,993 - app.cache - ERROR - get:101 - Error getting cache key cache:distributors:get_distributors:86116376e6f5bcfea5ea0823488ce569: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:07:24,994 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:07:24,995 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT distributors.id AS distributors_id, distributors.name AS distributors_name, distributors.contact_person AS distributors_contact_person, distributors.phone_number AS distributors_phone_number, distributors.access_code AS distributors_access_code 
FROM distributors
 LIMIT ? OFFSET ?
2025-07-06 11:07:24,995 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00016s] (100, 0)
2025-07-06 11:07:24,995 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:07:24,996 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.058s
2025-07-06 11:07:24,996 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:6251d844f45b08dea060ecd1fd14720d: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:07:24,996 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 11:07:24,996 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00014s] ()
INFO:     127.0.0.1:59092 - "GET /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 11:07:24,999 - app.cache - ERROR - set:89 - Error setting cache key cache:distributors:get_distributors:86116376e6f5bcfea5ea0823488ce569: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:07:25,000 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:6251d844f45b08dea060ecd1fd14720d: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:07:25,001 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:07:25,001 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:07:25,002 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:07:25,002 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:07:25,002 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.062s
2025-07-06 11:07:25,002 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.062s
INFO:     127.0.0.1:59093 - "GET /products/?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:59094 - "GET /distributors/ HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routers/pos.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 11:07:36,430 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [30823]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106af86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106af0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106af1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 11:07:37,660 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [31140]
INFO:     Waiting for application startup.
2025-07-06 11:07:37,689 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
2025-07-06 11:08:23,052 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:08:23,085 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:08:23,087 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 11:08:23,087 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] (1,)
2025-07-06 11:08:23,093 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 11:08:23,094 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00021s] (1, '2025-07-06 16:08:23.090705', 25000.0)
2025-07-06 11:08:23,096 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 11:08:23,097 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:08:23,098 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 11:08:23,098 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (9, 1)
2025-07-06 11:08:23,100 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 11:08:23,100 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (1, 1, 1, 25000.0)
2025-07-06 11:08:23,100 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 11:08:23,101 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:08:23,102 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 11:08:23,102 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (1,)
2025-07-06 11:08:23,104 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 11:08:23,105 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (1,)
2025-07-06 11:08:23,106 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:08:23,106 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:08:23,106 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.055s
INFO:     127.0.0.1:59399 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 11:13:59,721 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:13:59,747 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:13:59,749 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:13:59,749 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] ('admin', 1, 0)
2025-07-06 11:13:59,757 - passlib.handlers.bcrypt - WARNING - _load_backend_mixin:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-06 11:14:00,699 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 11:14:00,729 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:14:00,729 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:14:00,732 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 1.009s
INFO:     127.0.0.1:60942 - "POST /token HTTP/1.1" 200 OK
2025-07-06 11:14:00,745 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:14:00,757 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:14:00,758 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:14:00,758 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] ('admin', 1, 0)
2025-07-06 11:14:00,774 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:14:00,774 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:14:00,774 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.029s
INFO:     127.0.0.1:60942 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 11:14:05,801 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:14:05,803 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:14:05,804 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
INFO:     127.0.0.1:60973 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:14:05,821 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:14:05,822 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:14:05,837 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:14:05,843 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 11:14:05,843 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00045s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 11:14:05,851 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:14:05,851 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:14:05,852 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.030s
INFO:     127.0.0.1:60973 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:14:11,843 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:14:11,844 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:14:11,844 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.002s
INFO:     127.0.0.1:61003 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 11:14:11,849 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:14:11,856 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:14:11,858 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?, ?)
2025-07-06 11:14:11,858 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00037s] (2, 1, 4)
2025-07-06 11:14:11,862 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 11:14:11,862 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00031s] (1, '2025-07-06 16:14:11.860627', 54000.0)
2025-07-06 11:14:11,865 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 11:14:11,868 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:14:11,869 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 11:14:11,869 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00035s] [(8, 1), (14, 2), (4, 4)]
2025-07-06 11:14:11,872 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 11:14:11,872 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00028s (insertmanyvalues) 1/3 (ordered; batch not supported)] (2, 2, 1, 20000.0)
2025-07-06 11:14:11,874 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 11:14:11,874 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/3 (ordered; batch not supported)] (2, 1, 1, 25000.0)
2025-07-06 11:14:11,876 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 11:14:11,876 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 3/3 (ordered; batch not supported)] (2, 4, 1, 9000.0)
2025-07-06 11:14:11,877 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 11:14:11,878 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:14:11,879 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 11:14:11,879 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00017s] (2,)
2025-07-06 11:14:11,881 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 11:14:11,881 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (2,)
2025-07-06 11:14:11,883 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:14:11,883 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:14:11,883 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.035s
INFO:     127.0.0.1:61003 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 11:39:30,220 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:30,293 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:30,306 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:39:30,306 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00049s] ('admin', 1, 0)
2025-07-06 11:39:30,713 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 11:39:30,716 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:39:30,717 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:30,717 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.500s
INFO:     127.0.0.1:51576 - "POST /token HTTP/1.1" 200 OK
2025-07-06 11:39:30,724 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:30,724 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:30,724 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:51583 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 11:39:30,726 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:30,733 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:30,734 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 11:39:30,734 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] ('admin', 1, 0)
2025-07-06 11:39:30,743 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:39:30,743 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:30,744 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.018s
INFO:     127.0.0.1:51576 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 11:39:33,018 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:33,021 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:33,022 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
INFO:     127.0.0.1:51583 - "OPTIONS /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:39:33,027 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:33,041 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:33,044 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 11:39:33,044 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00046s] (10, 0)
2025-07-06 11:39:33,055 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:ab5413ea3d1caa245400a507b1b4b398: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:39:33,063 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 11:39:33,063 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00014s] ()
2025-07-06 11:39:33,065 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:ab5413ea3d1caa245400a507b1b4b398: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:39:33,067 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:39:33,068 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:33,068 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.041s
INFO:     127.0.0.1:51576 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:39:42,371 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:42,373 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:42,374 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.003s
INFO:     127.0.0.1:51654 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:39:42,390 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 11:39:42,391 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:42,412 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:42,416 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 11:39:42,416 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00040s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 11:39:42,424 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:39:42,425 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:42,425 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.034s
INFO:     127.0.0.1:51654 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 11:39:45,673 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:45,674 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:45,674 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:51678 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 11:39:45,678 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 11:39:45,723 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:45,724 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 11:39:45,724 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00020s] (2,)
2025-07-06 11:39:45,728 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 11:39:45,729 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] (1, '2025-07-06 16:39:45.726003', 20000.0)
2025-07-06 11:39:45,730 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 11:39:45,733 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:45,733 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 11:39:45,733 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] (13, 2)
2025-07-06 11:39:45,735 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 11:39:45,735 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00026s] (3, 2, 1, 20000.0)
2025-07-06 11:39:45,736 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 11:39:45,737 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 11:39:45,738 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 11:39:45,738 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (3,)
2025-07-06 11:39:45,740 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 11:39:45,740 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (3,)
2025-07-06 11:39:45,741 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 11:39:45,741 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 11:39:45,741 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.063s
INFO:     127.0.0.1:51678 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 12:55:40,104 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:55:40,174 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:55:40,183 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 12:55:40,184 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00047s] ('admin', 1, 0)
2025-07-06 12:55:40,617 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 12:55:40,620 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:55:40,620 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:55:40,620 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.519s
INFO:     127.0.0.1:55963 - "POST /token HTTP/1.1" 200 OK
2025-07-06 12:55:40,628 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:55:40,629 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:55:40,630 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.002s
INFO:     127.0.0.1:55971 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 12:55:40,636 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:55:40,640 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:55:40,644 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 12:55:40,644 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00017s] ('admin', 1, 0)
2025-07-06 12:55:40,645 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:55:40,645 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:55:40,645 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.010s
INFO:     127.0.0.1:55963 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 12:55:42,316 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:55:42,320 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:55:42,322 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:55971 - "OPTIONS /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 12:55:42,327 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:55:42,341 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:55:42,344 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 12:55:42,344 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] (10, 0)
2025-07-06 12:55:42,351 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:3b8cf411c90eef837c6bbbf92f5e467c: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 12:55:42,353 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 12:55:42,353 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00022s] ()
2025-07-06 12:55:42,355 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:3b8cf411c90eef837c6bbbf92f5e467c: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 12:55:42,358 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:55:42,359 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:55:42,359 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.032s
INFO:     127.0.0.1:55963 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 12:58:28,049 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:58:28,054 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:58:28,054 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.006s
INFO:     127.0.0.1:56742 - "OPTIONS /products/ HTTP/1.1" 200 OK
2025-07-06 12:58:28,060 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:58:28,098 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:58:28,101 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 12:58:28,101 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] ('admin', 1, 0)
2025-07-06 12:58:28,142 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.sku = ?
 LIMIT ? OFFSET ?
2025-07-06 12:58:28,142 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] ('DEMO002', 1, 0)
2025-07-06 12:58:28,147 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO products (sku, name, description, image_url, cost_price, selling_price, stock_quantity) VALUES (?, ?, ?, ?, ?, ?, ?)
2025-07-06 12:58:28,147 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00014s] ('DEMO002', 'Carcasa 11', None, None, 10000.0, 12000.0, 12)
2025-07-06 12:58:28,149 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 12:58:28,150 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:58:28,150 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id, products.sku, products.name, products.description, products.image_url, products.cost_price, products.selling_price, products.stock_quantity 
FROM products 
WHERE products.id = ?
2025-07-06 12:58:28,150 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (5,)
2025-07-06 12:58:28,152 - app.app.routers.products - INFO - business:217 - BUSINESS: product_created
2025-07-06 12:58:28,153 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:58:28,153 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:58:28,153 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.094s
INFO:     127.0.0.1:56744 - "POST /products/ HTTP/1.1" 200 OK
2025-07-06 12:58:28,159 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:58:28,165 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:58:28,166 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 12:58:28,166 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00033s] (10, 0)
2025-07-06 12:58:28,171 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:c6c1d72f7096bd062bede7a3ce737b50: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 12:58:28,171 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 12:58:28,171 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] ()
2025-07-06 12:58:28,172 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:c6c1d72f7096bd062bede7a3ce737b50: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 12:58:28,173 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:58:28,173 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:58:28,174 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.014s
INFO:     127.0.0.1:56744 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 12:59:19,414 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:59:19,437 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:59:19,440 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 12:59:19,440 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] ('admin', 1, 0)
2025-07-06 12:59:19,840 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 12:59:19,844 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:59:19,844 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:59:19,844 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.431s
INFO:     127.0.0.1:56990 - "POST /token HTTP/1.1" 200 OK
2025-07-06 12:59:19,854 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 12:59:19,856 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 12:59:19,860 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 12:59:19,860 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] ('admin', 1, 0)
2025-07-06 12:59:19,861 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 12:59:19,861 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 12:59:19,861 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.008s
INFO:     127.0.0.1:56990 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:01:48,331 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:01:48,342 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:01:48,347 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.015s
INFO:     127.0.0.1:57843 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:01:48,366 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:01:48,367 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:01:48,408 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:01:48,412 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:01:48,412 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00021s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:01:48,426 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:01:48,426 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:01:48,427 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.060s
INFO:     127.0.0.1:57843 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:01:58,911 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:01:58,913 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:01:58,913 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.003s
INFO:     127.0.0.1:57898 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 13:01:58,917 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:01:58,929 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:01:58,931 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 13:01:58,931 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] (2, 1)
2025-07-06 13:01:58,940 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:01:58,940 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00069s] (1, '2025-07-06 18:01:58.934458', 45000.0)
2025-07-06 13:01:58,943 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:01:58,946 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:01:58,949 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:01:58,949 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00023s] [(7, 1), (12, 2)]
2025-07-06 13:01:58,952 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:01:58,952 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00015s (insertmanyvalues) 1/2 (ordered; batch not supported)] (4, 2, 1, 20000.0)
2025-07-06 13:01:58,953 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:01:58,953 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (4, 1, 1, 25000.0)
2025-07-06 13:01:58,953 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:01:58,954 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:01:58,955 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:01:58,955 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] (4,)
2025-07-06 13:01:58,959 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:01:58,959 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00051s] (4,)
2025-07-06 13:01:58,962 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:01:58,962 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:01:58,962 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.046s
INFO:     127.0.0.1:57898 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:03:47,568 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:03:47,599 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:03:47,602 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:03:47,603 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00020s] ('admin', 1, 0)
2025-07-06 13:03:48,009 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:03:48,012 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:03:48,013 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:03:48,013 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.445s
INFO:     127.0.0.1:58530 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:03:48,022 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:03:48,027 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:03:48,028 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:03:48,028 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] ('admin', 1, 0)
2025-07-06 13:03:48,028 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:03:48,029 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:03:48,029 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:58530 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:03:52,592 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:03:52,594 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:03:52,610 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:03:52,616 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:03:52,616 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00034s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:03:52,621 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:03:52,622 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:03:52,622 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.029s
INFO:     127.0.0.1:58558 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:04:22,650 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:04:22,668 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:04:22,671 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 13:04:22,671 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00047s] (2, 3)
2025-07-06 13:04:22,681 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:04:22,681 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00020s] (1, '2025-07-06 18:04:22.677425', 35000.0)
2025-07-06 13:04:22,684 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:04:22,685 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:04:22,685 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:04:22,686 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00039s] [(11, 2), (19, 3)]
2025-07-06 13:04:22,687 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:04:22,687 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00011s (insertmanyvalues) 1/2 (ordered; batch not supported)] (5, 2, 1, 20000.0)
2025-07-06 13:04:22,688 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:04:22,688 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (5, 3, 1, 15000.0)
2025-07-06 13:04:22,688 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:04:22,689 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:04:22,690 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:04:22,690 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] (5,)
2025-07-06 13:04:22,692 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:04:22,692 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00016s] (5,)
2025-07-06 13:04:22,694 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:04:22,695 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:04:22,695 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.045s
INFO:     127.0.0.1:58695 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:04:58,227 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:04:58,259 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:04:58,264 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:04:58,265 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00058s] ('admin', 1, 0)
2025-07-06 13:04:58,664 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:04:58,668 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:04:58,669 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:04:58,669 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.443s
INFO:     127.0.0.1:58906 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:04:58,681 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:04:58,683 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:04:58,684 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:04:58,684 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] ('admin', 1, 0)
2025-07-06 13:04:58,684 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:04:58,685 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:04:58,685 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
INFO:     127.0.0.1:58906 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:05:02,588 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:05:02,592 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:05:02,613 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:05:02,616 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:05:02,617 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00039s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:05:02,621 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:05:02,622 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:05:02,622 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.031s
INFO:     127.0.0.1:58933 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:05:51,045 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:05:51,094 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:05:51,100 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?, ?)
2025-07-06 13:05:51,101 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00046s] (2, 1, 5)
2025-07-06 13:05:51,111 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:05:51,111 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00022s] (1, '2025-07-06 18:05:51.110494', 57000.0)
2025-07-06 13:05:51,114 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:05:51,115 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:05:51,115 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:05:51,116 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00022s] [(6, 1), (10, 2), (11, 5)]
2025-07-06 13:05:51,117 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:05:51,117 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00010s (insertmanyvalues) 1/3 (ordered; batch not supported)] (6, 2, 1, 20000.0)
2025-07-06 13:05:51,118 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:05:51,118 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/3 (ordered; batch not supported)] (6, 1, 1, 25000.0)
2025-07-06 13:05:51,118 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:05:51,118 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 3/3 (ordered; batch not supported)] (6, 5, 1, 12000.0)
2025-07-06 13:05:51,118 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:05:51,119 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:05:51,119 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:05:51,119 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (6,)
2025-07-06 13:05:51,123 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:05:51,124 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00037s] (6,)
2025-07-06 13:05:51,127 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:05:51,128 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:05:51,128 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.084s
INFO:     127.0.0.1:59221 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:08:32,045 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:08:32,122 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:08:32,128 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:08:32,128 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00038s] ('admin', 1, 0)
2025-07-06 13:08:32,586 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:08:32,589 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:08:32,590 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:08:32,590 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.547s
INFO:     127.0.0.1:60094 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:08:32,597 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:08:32,598 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:08:32,598 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:60100 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 13:08:32,600 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:08:32,604 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:08:32,605 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:08:32,605 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] ('admin', 1, 0)
2025-07-06 13:08:32,606 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:08:32,606 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:08:32,606 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.006s
INFO:     127.0.0.1:60094 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:08:37,457 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:08:37,463 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:08:37,484 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:08:37,489 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:08:37,489 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00030s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:08:37,495 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:08:37,496 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:08:37,496 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.034s
INFO:     127.0.0.1:60129 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:08:43,496 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:08:43,505 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:08:43,510 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 13:08:43,511 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00044s] (2, 1)
2025-07-06 13:08:43,523 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:08:43,523 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00061s] (1, '2025-07-06 18:08:43.514017', 45000.0)
2025-07-06 13:08:43,527 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:08:43,529 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:08:43,529 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:08:43,529 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] [(5, 1), (9, 2)]
2025-07-06 13:08:43,531 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:08:43,531 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00010s (insertmanyvalues) 1/2 (ordered; batch not supported)] (7, 2, 1, 20000.0)
2025-07-06 13:08:43,531 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:08:43,531 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (7, 1, 1, 25000.0)
2025-07-06 13:08:43,532 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:08:43,533 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:08:43,533 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:08:43,533 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (7,)
2025-07-06 13:08:43,535 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:08:43,535 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] (7,)
2025-07-06 13:08:43,537 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:08:43,537 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:08:43,537 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.041s
INFO:     127.0.0.1:60159 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:09:02,897 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:09:02,922 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:02,925 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:09:02,926 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00056s] ('admin', 1, 0)
2025-07-06 13:09:03,364 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:09:03,368 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:09:03,369 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:09:03,369 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.473s
INFO:     127.0.0.1:60288 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:09:03,384 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:09:03,387 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:03,389 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:09:03,389 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00042s] ('admin', 1, 0)
2025-07-06 13:09:03,392 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:09:03,393 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:09:03,393 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.009s
INFO:     127.0.0.1:60288 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:09:06,913 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:09:06,914 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:09:06,928 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:06,930 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:09:06,931 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:09:06,936 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:09:06,936 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:09:06,937 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.022s
INFO:     127.0.0.1:60309 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:09:12,730 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:09:12,765 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:12,769 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 13:09:12,770 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00045s] (2,)
2025-07-06 13:09:12,774 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:09:12,774 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00031s] (1, '2025-07-06 18:09:12.772184', 20000.0)
2025-07-06 13:09:12,776 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:09:12,777 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:12,778 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:09:12,778 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (8, 2)
2025-07-06 13:09:12,779 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 13:09:12,779 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] (8, 2, 1, 20000.0)
2025-07-06 13:09:12,780 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:09:12,782 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:12,783 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:09:12,783 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] (8,)
2025-07-06 13:09:12,786 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:09:12,787 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] (8,)
2025-07-06 13:09:12,788 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:09:12,789 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:09:12,789 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.060s
INFO:     127.0.0.1:60340 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:09:57,613 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:09:57,616 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:09:57,648 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:09:57,652 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:09:57,653 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00025s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:09:57,663 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:09:57,664 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:09:57,664 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.049s
INFO:     127.0.0.1:60691 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:10:04,551 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:10:04,608 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:04,610 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 13:10:04,610 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00023s] (5, 3)
2025-07-06 13:10:04,614 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:10:04,614 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00028s] (1, '2025-07-06 18:10:04.613009', 27000.0)
2025-07-06 13:10:04,617 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:10:04,619 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:04,619 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:10:04,619 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] [(18, 3), (10, 5)]
2025-07-06 13:10:04,620 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:10:04,621 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00008s (insertmanyvalues) 1/2 (ordered; batch not supported)] (9, 5, 1, 12000.0)
2025-07-06 13:10:04,621 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 13:10:04,621 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (9, 3, 1, 15000.0)
2025-07-06 13:10:04,621 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:10:04,622 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:04,622 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:10:04,622 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (9,)
2025-07-06 13:10:04,624 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:10:04,625 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00041s] (9,)
2025-07-06 13:10:04,626 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:10:04,627 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:10:04,627 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.077s
INFO:     127.0.0.1:60731 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:10:40,855 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:10:40,874 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:40,876 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:10:40,877 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00030s] ('admin', 1, 0)
2025-07-06 13:10:41,277 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:10:41,278 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:10:41,278 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:10:41,279 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.423s
INFO:     127.0.0.1:60947 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:10:41,284 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:10:41,287 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:41,287 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:10:41,287 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] ('admin', 1, 0)
2025-07-06 13:10:41,288 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:10:41,289 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:10:41,289 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.005s
INFO:     127.0.0.1:60947 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:10:44,352 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:10:44,354 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:10:44,366 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:44,388 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:10:44,388 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00034s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:10:44,392 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:10:44,392 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:10:44,393 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.039s
INFO:     127.0.0.1:60968 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:10:48,127 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:10:48,133 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:48,135 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 13:10:48,135 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] (2,)
2025-07-06 13:10:48,139 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:10:48,139 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] (1, '2025-07-06 18:10:48.137806', 20000.0)
2025-07-06 13:10:48,141 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:10:48,144 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:48,144 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:10:48,144 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] (7, 2)
2025-07-06 13:10:48,146 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 13:10:48,146 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] (10, 2, 1, 20000.0)
2025-07-06 13:10:48,146 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:10:48,148 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:10:48,149 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:10:48,149 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00025s] (10,)
2025-07-06 13:10:48,152 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:10:48,152 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] (10,)
2025-07-06 13:10:48,155 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:10:48,155 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:10:48,155 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.028s
INFO:     127.0.0.1:60989 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:13:50,324 - app.cache - ERROR - get:101 - Error getting cache key response_cache:2436bf62457a613f127cbcded333b5d6: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:13:50,327 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:13:50,347 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:13:50,353 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:13:50,354 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] ('%Cable%', '%Cable%', '%Cable%', 'Cable%', 'Cable%', 10, 0)
2025-07-06 13:13:50,366 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:13:50,367 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:13:50,367 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.040s
INFO:     127.0.0.1:61878 - "GET /products/search?q=Cable HTTP/1.1" 200 OK
2025-07-06 13:15:31,230 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:15:31,263 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:15:31,268 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:15:31,268 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00052s] ('admin', 1, 0)
2025-07-06 13:15:31,686 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:15:31,690 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:15:31,690 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:15:31,690 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.461s
INFO:     127.0.0.1:62485 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:15:31,699 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:15:31,701 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:15:31,702 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:15:31,702 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] ('admin', 1, 0)
2025-07-06 13:15:31,702 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:15:31,703 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:15:31,703 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
INFO:     127.0.0.1:62485 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:15:35,987 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:15:35,991 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:15:35,992 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.006s
INFO:     127.0.0.1:62533 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:15:36,003 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:15:36,004 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:15:36,025 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:15:36,030 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:15:36,030 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:15:36,039 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:15:36,040 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:15:36,040 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.037s
INFO:     127.0.0.1:62533 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:15:41,979 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:15:41,991 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:15:41,993 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.014s
INFO:     127.0.0.1:62570 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 13:15:42,001 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:15:42,024 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:15:42,027 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 13:15:42,027 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00037s] (2,)
2025-07-06 13:15:42,035 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:15:42,035 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] (1, '2025-07-06 18:15:42.031510', 20000.0)
2025-07-06 13:15:42,037 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:15:42,041 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:15:42,042 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:15:42,043 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00033s] (6, 2)
2025-07-06 13:15:42,044 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 13:15:42,044 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] (11, 2, 1, 20000.0)
2025-07-06 13:15:42,045 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:15:42,046 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:15:42,046 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:15:42,046 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (11,)
2025-07-06 13:15:42,048 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:15:42,048 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (11,)
2025-07-06 13:15:42,051 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:15:42,051 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:15:42,051 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.051s
INFO:     127.0.0.1:62570 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:17:06,443 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:06,504 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:06,514 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:17:06,514 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00023s] ('admin', 1, 0)
2025-07-06 13:17:06,938 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 13:17:06,941 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:06,941 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:06,942 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.501s
INFO:     127.0.0.1:63017 - "POST /token HTTP/1.1" 200 OK
2025-07-06 13:17:06,948 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:06,953 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:06,953 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:17:06,953 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] ('admin', 1, 0)
2025-07-06 13:17:06,955 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:06,955 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:06,955 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:63017 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 13:17:09,170 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:09,172 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:09,173 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
INFO:     127.0.0.1:63036 - "OPTIONS /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:17:09,178 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:09,190 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:09,193 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 13:17:09,193 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00029s] (10, 0)
2025-07-06 13:17:09,200 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:98309d48afb9714a7f5778b6e11740a0: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:17:09,203 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 13:17:09,203 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] ()
2025-07-06 13:17:09,204 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:98309d48afb9714a7f5778b6e11740a0: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:17:09,206 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:09,206 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:09,206 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.028s
INFO:     127.0.0.1:63017 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:17:17,288 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:17:17,290 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:17,312 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:17,319 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:17:17,319 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00075s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:17:17,324 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:17,325 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:17,325 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.035s
INFO:     127.0.0.1:63076 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:17:26,335 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:26,336 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:26,336 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:26,338 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:26,338 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:26,339 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
2025-07-06 13:17:26,339 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:26,339 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.004s
2025-07-06 13:17:26,340 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.003s
INFO:     127.0.0.1:63123 - "OPTIONS /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63124 - "OPTIONS /products/?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:63125 - "OPTIONS /distributors/ HTTP/1.1" 200 OK
2025-07-06 13:17:26,348 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:26,349 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:26,349 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:17:26,359 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:26,360 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:17:26,360 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] ('admin', 1, 0)
2025-07-06 13:17:26,384 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT consignment_loans.id AS consignment_loans_id, consignment_loans.distributor_id AS consignment_loans_distributor_id, consignment_loans.product_id AS consignment_loans_product_id, consignment_loans.quantity_loaned AS consignment_loans_quantity_loaned, consignment_loans.loan_date AS consignment_loans_loan_date, consignment_loans.return_due_date AS consignment_loans_return_due_date, consignment_loans.status AS consignment_loans_status, distributors_1.id AS distributors_1_id, distributors_1.name AS distributors_1_name, distributors_1.contact_person AS distributors_1_contact_person, distributors_1.phone_number AS distributors_1_phone_number, distributors_1.access_code AS distributors_1_access_code, products_1.id AS products_1_id, products_1.sku AS products_1_sku, products_1.name AS products_1_name, products_1.description AS products_1_description, products_1.image_url AS products_1_image_url, products_1.cost_price AS products_1_cost_price, products_1.selling_price AS products_1_selling_price, products_1.stock_quantity AS products_1_stock_quantity 
FROM consignment_loans LEFT OUTER JOIN distributors AS distributors_1 ON distributors_1.id = consignment_loans.distributor_id LEFT OUTER JOIN products AS products_1 ON products_1.id = consignment_loans.product_id ORDER BY consignment_loans.loan_date DESC
 LIMIT ? OFFSET ?
2025-07-06 13:17:26,384 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:26,384 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00027s] (100, 0)
2025-07-06 13:17:26,385 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 13:17:26,386 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] (100, 0)
2025-07-06 13:17:26,386 - app.cache - ERROR - get:101 - Error getting cache key cache:distributors:get_distributors:df5a09ca548540f4ed00a452356ecab5: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:17:26,388 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:17:26,389 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT distributors.id AS distributors_id, distributors.name AS distributors_name, distributors.contact_person AS distributors_contact_person, distributors.phone_number AS distributors_phone_number, distributors.access_code AS distributors_access_code 
FROM distributors
 LIMIT ? OFFSET ?
2025-07-06 13:17:26,389 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] (100, 0)
2025-07-06 13:17:26,389 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:26,389 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:61efa563a08473b8f0db0b150c2d2928: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:17:26,390 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 13:17:26,390 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00007s] ()
2025-07-06 13:17:26,390 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:26,392 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.044s
2025-07-06 13:17:26,392 - app.cache - ERROR - set:89 - Error setting cache key cache:distributors:get_distributors:df5a09ca548540f4ed00a452356ecab5: Error 61 connecting to localhost:6379. Connection refused.
INFO:     127.0.0.1:63128 - "GET /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 13:17:26,393 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:61efa563a08473b8f0db0b150c2d2928: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:17:26,394 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:26,395 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:17:26,395 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:26,395 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.046s
2025-07-06 13:17:26,395 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:17:26,395 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.047s
INFO:     127.0.0.1:63131 - "GET /distributors/ HTTP/1.1" 200 OK
INFO:     127.0.0.1:63129 - "GET /products/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 13:19:34,574 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:19:34,616 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:34,619 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 13:19:34,620 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00032s] (10, 0)
2025-07-06 13:19:34,636 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:b67ce44b8b81675cbe5541e05f913cef: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:34,639 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 13:19:34,639 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] ()
2025-07-06 13:19:34,643 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:b67ce44b8b81675cbe5541e05f913cef: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:34,647 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:19:34,647 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:19:34,648 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.075s
INFO:     127.0.0.1:63762 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:19:39,429 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:19:39,432 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:19:39,434 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:19:39,458 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:39,460 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:19:39,460 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] ('admin', 1, 0)
2025-07-06 13:19:39,465 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT consignment_loans.id AS consignment_loans_id, consignment_loans.distributor_id AS consignment_loans_distributor_id, consignment_loans.product_id AS consignment_loans_product_id, consignment_loans.quantity_loaned AS consignment_loans_quantity_loaned, consignment_loans.loan_date AS consignment_loans_loan_date, consignment_loans.return_due_date AS consignment_loans_return_due_date, consignment_loans.status AS consignment_loans_status, distributors_1.id AS distributors_1_id, distributors_1.name AS distributors_1_name, distributors_1.contact_person AS distributors_1_contact_person, distributors_1.phone_number AS distributors_1_phone_number, distributors_1.access_code AS distributors_1_access_code, products_1.id AS products_1_id, products_1.sku AS products_1_sku, products_1.name AS products_1_name, products_1.description AS products_1_description, products_1.image_url AS products_1_image_url, products_1.cost_price AS products_1_cost_price, products_1.selling_price AS products_1_selling_price, products_1.stock_quantity AS products_1_stock_quantity 
FROM consignment_loans LEFT OUTER JOIN distributors AS distributors_1 ON distributors_1.id = consignment_loans.distributor_id LEFT OUTER JOIN products AS products_1 ON products_1.id = consignment_loans.product_id ORDER BY consignment_loans.loan_date DESC
 LIMIT ? OFFSET ?
2025-07-06 13:19:39,466 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] (100, 0)
2025-07-06 13:19:39,467 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:39,468 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 13:19:39,468 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] (100, 0)
2025-07-06 13:19:39,469 - app.cache - ERROR - get:101 - Error getting cache key cache:distributors:get_distributors:df5a09ca548540f4ed00a452356ecab5: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:39,469 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:19:39,470 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:39,471 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT distributors.id AS distributors_id, distributors.name AS distributors_name, distributors.contact_person AS distributors_contact_person, distributors.phone_number AS distributors_phone_number, distributors.access_code AS distributors_access_code 
FROM distributors
 LIMIT ? OFFSET ?
2025-07-06 13:19:39,472 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00128s] (100, 0)
2025-07-06 13:19:39,476 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:61efa563a08473b8f0db0b150c2d2928: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:39,477 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 13:19:39,477 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00017s] ()
2025-07-06 13:19:39,477 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:19:39,478 - app.cache - ERROR - set:89 - Error setting cache key cache:distributors:get_distributors:df5a09ca548540f4ed00a452356ecab5: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:39,478 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.049s
INFO:     127.0.0.1:63814 - "GET /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 13:19:39,478 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:61efa563a08473b8f0db0b150c2d2928: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:39,479 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:19:39,480 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:19:39,481 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:19:39,481 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.048s
INFO:     127.0.0.1:63817 - "GET /distributors/ HTTP/1.1" 200 OK
2025-07-06 13:19:39,481 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:19:39,481 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.050s
INFO:     127.0.0.1:63816 - "GET /products/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 13:19:44,167 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:19:44,171 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:19:44,187 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:44,191 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:19:44,191 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00075s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 13:19:44,195 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:19:44,196 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:19:44,196 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.026s
INFO:     127.0.0.1:63849 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 13:19:48,539 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:19:48,550 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:48,551 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 13:19:48,552 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00038s] (2,)
2025-07-06 13:19:48,585 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 13:19:48,585 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00032s] (1, '2025-07-06 18:19:48.554082', 20000.0)
2025-07-06 13:19:48,588 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:19:48,597 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:48,600 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 13:19:48,600 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] (5, 2)
2025-07-06 13:19:48,602 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 13:19:48,602 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] (12, 2, 1, 20000.0)
2025-07-06 13:19:48,604 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 13:19:48,606 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:19:48,606 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 13:19:48,606 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (12,)
2025-07-06 13:19:48,609 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 13:19:48,609 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00014s] (12,)
2025-07-06 13:19:48,611 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:19:48,611 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:19:48,611 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.072s
INFO:     127.0.0.1:63871 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 13:21:17,861 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:21:17,873 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:21:17,875 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:21:17,980 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:21:17,985 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 13:21:17,986 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00028s] ('admin', 1, 0)
2025-07-06 13:21:18,018 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT consignment_loans.id AS consignment_loans_id, consignment_loans.distributor_id AS consignment_loans_distributor_id, consignment_loans.product_id AS consignment_loans_product_id, consignment_loans.quantity_loaned AS consignment_loans_quantity_loaned, consignment_loans.loan_date AS consignment_loans_loan_date, consignment_loans.return_due_date AS consignment_loans_return_due_date, consignment_loans.status AS consignment_loans_status, distributors_1.id AS distributors_1_id, distributors_1.name AS distributors_1_name, distributors_1.contact_person AS distributors_1_contact_person, distributors_1.phone_number AS distributors_1_phone_number, distributors_1.access_code AS distributors_1_access_code, products_1.id AS products_1_id, products_1.sku AS products_1_sku, products_1.name AS products_1_name, products_1.description AS products_1_description, products_1.image_url AS products_1_image_url, products_1.cost_price AS products_1_cost_price, products_1.selling_price AS products_1_selling_price, products_1.stock_quantity AS products_1_stock_quantity 
FROM consignment_loans LEFT OUTER JOIN distributors AS distributors_1 ON distributors_1.id = consignment_loans.distributor_id LEFT OUTER JOIN products AS products_1 ON products_1.id = consignment_loans.product_id ORDER BY consignment_loans.loan_date DESC
 LIMIT ? OFFSET ?
2025-07-06 13:21:18,019 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00188s] (100, 0)
2025-07-06 13:21:18,022 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:21:18,023 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 13:21:18,024 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00054s] (100, 0)
2025-07-06 13:21:18,039 - app.cache - ERROR - get:101 - Error getting cache key cache:distributors:get_distributors:4fa53ddf2cdb67ec4895142bc30d9491: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:21:18,039 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:21:18,042 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:21:18,043 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:205f58fc4847c8a1e7e94cb54254a6fd: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:21:18,045 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT distributors.id AS distributors_id, distributors.name AS distributors_name, distributors.contact_person AS distributors_contact_person, distributors.phone_number AS distributors_phone_number, distributors.access_code AS distributors_access_code 
FROM distributors
 LIMIT ? OFFSET ?
2025-07-06 13:21:18,048 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 13:21:18,048 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:21:18,048 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00326s] (100, 0)
2025-07-06 13:21:18,048 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00042s] ()
2025-07-06 13:21:18,049 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.193s
INFO:     127.0.0.1:64349 - "GET /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 13:21:18,050 - app.cache - ERROR - set:89 - Error setting cache key cache:distributors:get_distributors:4fa53ddf2cdb67ec4895142bc30d9491: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:21:18,052 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:205f58fc4847c8a1e7e94cb54254a6fd: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:21:18,053 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:21:18,061 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:21:18,062 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:21:18,063 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.189s
2025-07-06 13:21:18,063 - app.app.middleware - INFO - info:165 - Request completed
INFO:     127.0.0.1:64352 - "GET /distributors/ HTTP/1.1" 200 OK
2025-07-06 13:21:18,064 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.194s
INFO:     127.0.0.1:64351 - "GET /products/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 13:21:19,328 - app.cache - ERROR - get:101 - Error getting cache key response_cache:2436bf62457a613f127cbcded333b5d6: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 13:21:19,329 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 13:21:19,336 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 13:21:19,337 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 13:21:19,338 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00016s] ('%Cable%', '%Cable%', '%Cable%', 'Cable%', 'Cable%', 10, 0)
2025-07-06 13:21:19,339 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 13:21:19,339 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 13:21:19,340 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.011s
INFO:     127.0.0.1:64374 - "GET /products/search?q=Cable HTTP/1.1" 200 OK
2025-07-06 15:06:19,067 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:19,196 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:06:19,204 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:06:19,206 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00237s] ('admin', 1, 0)
2025-07-06 15:06:19,923 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:06:19,930 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:06:19,932 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:19,932 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.877s
INFO:     127.0.0.1:50790 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:06:19,954 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:19,955 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:19,957 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.003s
INFO:     127.0.0.1:50796 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 15:06:19,962 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:19,966 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:06:19,967 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:06:19,967 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] ('admin', 1, 0)
2025-07-06 15:06:19,969 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:06:19,969 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:19,969 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.008s
INFO:     127.0.0.1:50790 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 15:06:23,645 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:23,656 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:23,660 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.025s
INFO:     127.0.0.1:50817 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:06:23,685 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:06:23,686 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:23,714 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:06:23,727 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:06:23,727 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00053s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:06:23,737 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:06:23,739 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:23,739 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.053s
INFO:     127.0.0.1:50817 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:06:27,927 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:27,931 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:27,932 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:50817 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 15:06:27,938 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:06:27,997 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:06:27,998 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 15:06:27,998 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] (2,)
2025-07-06 15:06:28,018 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 15:06:28,018 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00041s] (1, '2025-07-06 20:06:28.013759', 20000.0)
2025-07-06 15:06:28,020 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:06:28,021 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:06:28,022 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 15:06:28,022 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (4, 2)
2025-07-06 15:06:28,023 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 15:06:28,023 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] (13, 2, 1, 20000.0)
2025-07-06 15:06:28,024 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:06:28,024 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:06:28,025 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 15:06:28,025 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (13,)
2025-07-06 15:06:28,026 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 15:06:28,026 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] (13,)
2025-07-06 15:06:28,029 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:06:28,029 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:06:28,029 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.091s
INFO:     127.0.0.1:50817 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 15:11:23,675 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:11:23,681 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:11:23,732 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:11:23,736 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:11:23,737 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00045s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:11:23,747 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:11:23,748 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:11:23,748 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.068s
INFO:     127.0.0.1:52271 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:11:57,447 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:11:57,487 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:11:57,491 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 15:11:57,492 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00054s] (2, 1)
2025-07-06 15:11:57,753 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 15:11:57,753 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00020s] (1, '2025-07-06 20:11:57.497462', 45000.0)
2025-07-06 15:11:57,755 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:11:57,757 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:11:57,757 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 15:11:57,757 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] [(4, 1), (3, 2)]
2025-07-06 15:11:57,759 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:11:57,759 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00008s (insertmanyvalues) 1/2 (ordered; batch not supported)] (14, 2, 1, 20000.0)
2025-07-06 15:11:57,759 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:11:57,759 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (14, 1, 1, 25000.0)
2025-07-06 15:11:57,760 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:11:57,760 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:11:57,761 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 15:11:57,761 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] (14,)
2025-07-06 15:11:57,762 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 15:11:57,762 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] (14,)
2025-07-06 15:11:57,768 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:11:57,770 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:11:57,771 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.326s
INFO:     127.0.0.1:52472 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 15:13:10,568 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:13:10,601 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:10,609 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:13:10,609 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00042s] ('admin', 1, 0)
2025-07-06 15:13:11,048 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:13:11,053 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:13:11,054 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:13:11,054 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.488s
INFO:     127.0.0.1:52818 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:13:11,064 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:13:11,067 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:11,068 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:13:11,068 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] ('admin', 1, 0)
2025-07-06 15:13:11,070 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:13:11,071 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:13:11,071 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:52818 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 15:13:14,161 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:13:14,165 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:13:14,166 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.006s
INFO:     127.0.0.1:52841 - "OPTIONS /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:13:14,170 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:13:14,186 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:14,188 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 15:13:14,188 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00045s] (10, 0)
2025-07-06 15:13:14,204 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:b67ce44b8b81675cbe5541e05f913cef: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:13:14,205 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 15:13:14,205 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] ()
2025-07-06 15:13:14,207 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:b67ce44b8b81675cbe5541e05f913cef: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:13:14,208 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:13:14,209 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:13:14,209 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.038s
INFO:     127.0.0.1:52843 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:13:24,012 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:13:24,015 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:13:24,028 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:24,031 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:13:24,032 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00049s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:13:24,035 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:13:24,035 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:13:24,036 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.021s
INFO:     127.0.0.1:52889 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:13:33,108 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:13:33,154 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:33,162 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?, ?)
2025-07-06 15:13:33,162 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00037s] (2, 1, 3)
2025-07-06 15:13:33,166 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 15:13:33,166 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] (1, '2025-07-06 20:13:33.164710', 60000.0)
2025-07-06 15:13:33,168 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:13:33,171 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:33,172 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 15:13:33,172 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00022s] [(3, 1), (2, 2), (17, 3)]
2025-07-06 15:13:33,173 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:13:33,173 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00010s (insertmanyvalues) 1/3 (ordered; batch not supported)] (15, 2, 1, 20000.0)
2025-07-06 15:13:33,174 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:13:33,174 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/3 (ordered; batch not supported)] (15, 1, 1, 25000.0)
2025-07-06 15:13:33,174 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:13:33,174 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 3/3 (ordered; batch not supported)] (15, 3, 1, 15000.0)
2025-07-06 15:13:33,174 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:13:33,175 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:13:33,175 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 15:13:33,176 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (15,)
2025-07-06 15:13:33,177 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 15:13:33,177 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (15,)
2025-07-06 15:13:33,179 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:13:33,179 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:13:33,180 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.072s
INFO:     127.0.0.1:52938 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 15:14:14,284 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:14:14,293 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:14:14,326 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:14:14,329 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:14:14,329 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00047s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:14:14,339 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:14:14,339 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:14:14,340 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.048s
INFO:     127.0.0.1:53151 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:15:30,950 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:30,985 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:15:30,988 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:15:30,989 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00028s] ('admin', 1, 0)
2025-07-06 15:15:31,408 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:15:31,412 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:15:31,413 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:31,413 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.464s
INFO:     127.0.0.1:53536 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:15:31,423 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:31,433 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:15:31,434 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:15:31,434 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] ('admin', 1, 0)
2025-07-06 15:15:31,435 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:15:31,435 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:31,436 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.013s
INFO:     127.0.0.1:53536 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 15:15:34,818 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:34,835 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:15:34,842 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 15:15:34,842 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00042s] (10, 0)
2025-07-06 15:15:34,849 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:98309d48afb9714a7f5778b6e11740a0: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:15:34,850 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 15:15:34,850 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] ()
2025-07-06 15:15:34,853 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:98309d48afb9714a7f5778b6e11740a0: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:15:34,856 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:15:34,856 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:34,857 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.040s
INFO:     127.0.0.1:53545 - "GET /products/?skip=0&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:15:51,750 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:51,754 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:51,755 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:51,773 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:51,774 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:51,775 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.026s
2025-07-06 15:15:51,775 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:51,775 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.023s
2025-07-06 15:15:51,776 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.022s
INFO:     127.0.0.1:53573 - "OPTIONS /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53574 - "OPTIONS /products/?skip=0&limit=100 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53575 - "OPTIONS /distributors/ HTTP/1.1" 200 OK
2025-07-06 15:15:51,788 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:51,788 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:51,789 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:15:51,809 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:15:51,815 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:15:51,815 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00038s] ('admin', 1, 0)
2025-07-06 15:15:51,839 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:15:51,840 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products
 LIMIT ? OFFSET ?
2025-07-06 15:15:51,840 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00044s] (100, 0)
2025-07-06 15:15:51,851 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT consignment_loans.id AS consignment_loans_id, consignment_loans.distributor_id AS consignment_loans_distributor_id, consignment_loans.product_id AS consignment_loans_product_id, consignment_loans.quantity_loaned AS consignment_loans_quantity_loaned, consignment_loans.loan_date AS consignment_loans_loan_date, consignment_loans.return_due_date AS consignment_loans_return_due_date, consignment_loans.status AS consignment_loans_status, distributors_1.id AS distributors_1_id, distributors_1.name AS distributors_1_name, distributors_1.contact_person AS distributors_1_contact_person, distributors_1.phone_number AS distributors_1_phone_number, distributors_1.access_code AS distributors_1_access_code, products_1.id AS products_1_id, products_1.sku AS products_1_sku, products_1.name AS products_1_name, products_1.description AS products_1_description, products_1.image_url AS products_1_image_url, products_1.cost_price AS products_1_cost_price, products_1.selling_price AS products_1_selling_price, products_1.stock_quantity AS products_1_stock_quantity 
FROM consignment_loans LEFT OUTER JOIN distributors AS distributors_1 ON distributors_1.id = consignment_loans.distributor_id LEFT OUTER JOIN products AS products_1 ON products_1.id = consignment_loans.product_id ORDER BY consignment_loans.loan_date DESC
 LIMIT ? OFFSET ?
2025-07-06 15:15:51,852 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00059s] (100, 0)
2025-07-06 15:15:51,853 - app.cache - ERROR - get:101 - Error getting cache key cache:distributors:get_distributors:bf37e6b651ef3acc45df880facc2421c: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:15:51,853 - app.cache - ERROR - get:101 - Error getting cache key cache:products_count:get_products_count:3ca20bc74d48847bb9d6fea6d2cd5183: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:15:51,854 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT count(products.id) AS count_1 
FROM products
2025-07-06 15:15:51,854 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] ()
2025-07-06 15:15:51,855 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:15:51,856 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT distributors.id AS distributors_id, distributors.name AS distributors_name, distributors.contact_person AS distributors_contact_person, distributors.phone_number AS distributors_phone_number, distributors.access_code AS distributors_access_code 
FROM distributors
 LIMIT ? OFFSET ?
2025-07-06 15:15:51,856 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] (100, 0)
2025-07-06 15:15:51,857 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:15:51,857 - app.cache - ERROR - set:89 - Error setting cache key cache:products_count:get_products_count:3ca20bc74d48847bb9d6fea6d2cd5183: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:15:51,858 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:51,861 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.073s
2025-07-06 15:15:51,862 - app.cache - ERROR - set:89 - Error setting cache key cache:distributors:get_distributors:bf37e6b651ef3acc45df880facc2421c: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:15:51,862 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
INFO:     127.0.0.1:53577 - "GET /consignments/loans?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 15:15:51,865 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:15:51,866 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:51,866 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.078s
INFO:     127.0.0.1:53579 - "GET /products/?skip=0&limit=100 HTTP/1.1" 200 OK
2025-07-06 15:15:51,867 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:15:51,867 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.079s
INFO:     127.0.0.1:53581 - "GET /distributors/ HTTP/1.1" 200 OK
2025-07-06 15:18:26,368 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:18:26,378 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:18:26,379 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.015s
INFO:     127.0.0.1:53759 - "OPTIONS /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:18:26,399 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:18:26,400 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:18:26,460 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:18:26,480 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:18:26,480 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00030s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:18:26,494 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:18:26,495 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:18:26,495 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.095s
INFO:     127.0.0.1:53759 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:18:31,308 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:18:31,310 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:18:31,310 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.003s
INFO:     127.0.0.1:53765 - "OPTIONS /sales HTTP/1.1" 200 OK
2025-07-06 15:18:31,313 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:18:31,329 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:18:31,332 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 15:18:31,332 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00040s] (2, 1)
2025-07-06 15:18:31,347 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 15:18:31,347 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00057s] (1, '2025-07-06 20:18:31.335500', 45000.0)
2025-07-06 15:18:31,351 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:18:31,353 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:18:31,354 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 15:18:31,354 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00024s] [(2, 1), (1, 2)]
2025-07-06 15:18:31,356 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:18:31,356 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00014s (insertmanyvalues) 1/2 (ordered; batch not supported)] (16, 2, 1, 20000.0)
2025-07-06 15:18:31,357 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:18:31,357 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (16, 1, 1, 25000.0)
2025-07-06 15:18:31,358 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:18:31,359 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:18:31,361 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 15:18:31,361 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] (16,)
2025-07-06 15:18:31,363 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 15:18:31,364 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00015s] (16,)
2025-07-06 15:18:31,366 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:18:31,367 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:18:31,367 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.053s
INFO:     127.0.0.1:53765 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 15:20:28,866 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:20:28,896 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:20:28,899 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:20:28,899 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00050s] ('admin', 1, 0)
2025-07-06 15:20:29,306 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:20:29,310 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:20:29,310 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:20:29,310 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.445s
INFO:     127.0.0.1:53891 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:20:29,322 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:20:29,323 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:20:29,323 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:53893 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 15:20:29,328 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:20:29,331 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:20:29,331 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:20:29,331 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] ('admin', 1, 0)
2025-07-06 15:20:29,332 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:20:29,333 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:20:29,333 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.005s
INFO:     127.0.0.1:53891 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 15:20:50,188 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:20:50,191 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:20:50,227 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:20:50,235 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:20:50,235 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00041s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:20:50,241 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:20:50,242 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:20:50,242 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.051s
INFO:     127.0.0.1:53915 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:24:44,448 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:24:44,508 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:24:44,514 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:24:44,514 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00070s] ('admin', 1, 0)
2025-07-06 15:24:44,919 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:24:44,923 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:24:44,923 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:24:44,924 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.477s
INFO:     127.0.0.1:54989 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:24:44,932 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:24:44,936 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:24:44,937 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:24:44,937 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00010s] ('admin', 1, 0)
2025-07-06 15:24:44,938 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:24:44,938 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:24:44,938 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.007s
INFO:     127.0.0.1:54989 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 15:24:48,853 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:24:48,854 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:24:48,867 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:24:48,872 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:24:48,873 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00078s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:24:48,881 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:24:48,882 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:24:48,882 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.028s
INFO:     127.0.0.1:55012 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:25:52,662 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:25:52,681 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:25:52,683 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:25:52,683 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00025s] ('admin', 1, 0)
2025-07-06 15:25:53,377 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:25:53,436 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:25:53,436 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:25:53,437 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.778s
INFO:     127.0.0.1:55375 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:25:53,454 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:25:53,468 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:25:53,474 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:25:53,474 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] ('admin', 1, 0)
2025-07-06 15:25:53,481 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:25:53,482 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:25:53,482 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.028s
INFO:     127.0.0.1:55375 - "GET /verify HTTP/1.1" 200 OK
2025-07-06 15:25:56,799 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:25:56,801 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:25:56,814 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:25:56,819 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:25:56,820 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00033s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:25:56,825 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:25:56,825 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:25:56,826 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.025s
INFO:     127.0.0.1:55401 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:27:05,150 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:27:05,180 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:05,185 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?, ?)
2025-07-06 15:27:05,185 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00043s] (2, 1)
2025-07-06 15:27:05,200 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 15:27:05,200 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00065s] (1, '2025-07-06 20:27:05.191004', 45000.0)
2025-07-06 15:27:05,203 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:27:05,206 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:05,207 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 15:27:05,207 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00011s] [(1, 1), (0, 2)]
2025-07-06 15:27:05,210 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:27:05,210 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [generated in 0.00010s (insertmanyvalues) 1/2 (ordered; batch not supported)] (17, 2, 1, 20000.0)
2025-07-06 15:27:05,210 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?) RETURNING id
2025-07-06 15:27:05,210 - sqlalchemy.engine.Engine - INFO - _execute_context:1840 - [insertmanyvalues 2/2 (ordered; batch not supported)] (17, 1, 1, 25000.0)
2025-07-06 15:27:05,211 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:27:05,212 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:05,213 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 15:27:05,213 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] (17,)
2025-07-06 15:27:05,214 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 15:27:05,214 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00009s] (17,)
2025-07-06 15:27:05,216 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:27:05,217 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:27:05,217 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.067s
INFO:     127.0.0.1:55712 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 15:27:27,421 - app.cache - ERROR - get:101 - Error getting cache key response_cache:1db3b6eeb1834fdce220bd1fe71588ad: Error 61 connecting to localhost:6379. Connection refused.
2025-07-06 15:27:27,423 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:27:27,436 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:27,450 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE lower(products.name) LIKE lower(?) OR lower(products.sku) LIKE lower(?) OR lower(products.description) LIKE lower(?) ORDER BY lower(products.sku) LIKE lower(?) DESC, lower(products.name) LIKE lower(?) DESC, products.name ASC
 LIMIT ? OFFSET ?
2025-07-06 15:27:27,450 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00240s] ('%c%', '%c%', '%c%', 'c%', 'c%', 10, 0)
2025-07-06 15:27:27,453 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:27:27,454 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:27:27,454 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.032s
INFO:     127.0.0.1:55810 - "GET /products/search?q=c&limit=10 HTTP/1.1" 200 OK
2025-07-06 15:27:40,686 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:27:40,728 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:40,730 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT products.id AS products_id, products.sku AS products_sku, products.name AS products_name, products.description AS products_description, products.image_url AS products_image_url, products.cost_price AS products_cost_price, products.selling_price AS products_selling_price, products.stock_quantity AS products_stock_quantity 
FROM products 
WHERE products.id IN (?)
2025-07-06 15:27:40,730 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00033s] (1,)
2025-07-06 15:27:40,733 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_transactions (user_id, transaction_time, total_amount) VALUES (?, ?, ?)
2025-07-06 15:27:40,733 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00019s] (1, '2025-07-06 20:27:40.731998', 25000.0)
2025-07-06 15:27:40,735 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:27:40,736 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:40,736 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - UPDATE products SET stock_quantity=? WHERE products.id = ?
2025-07-06 15:27:40,736 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (0, 1)
2025-07-06 15:27:40,737 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - INSERT INTO point_of_sale_items (transaction_id, product_id, quantity_sold, price_at_time_of_sale) VALUES (?, ?, ?, ?)
2025-07-06 15:27:40,737 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00012s] (18, 1, 1, 25000.0)
2025-07-06 15:27:40,737 - sqlalchemy.engine.Engine - INFO - _connection_commit_impl:2704 - COMMIT
2025-07-06 15:27:40,738 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:27:40,738 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_transactions.id, point_of_sale_transactions.user_id, point_of_sale_transactions.transaction_time, point_of_sale_transactions.total_amount 
FROM point_of_sale_transactions 
WHERE point_of_sale_transactions.id = ?
2025-07-06 15:27:40,738 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (18,)
2025-07-06 15:27:40,739 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT point_of_sale_items.id AS point_of_sale_items_id, point_of_sale_items.transaction_id AS point_of_sale_items_transaction_id, point_of_sale_items.product_id AS point_of_sale_items_product_id, point_of_sale_items.quantity_sold AS point_of_sale_items_quantity_sold, point_of_sale_items.price_at_time_of_sale AS point_of_sale_items_price_at_time_of_sale 
FROM point_of_sale_items 
WHERE ? = point_of_sale_items.transaction_id
2025-07-06 15:27:40,739 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00008s] (18,)
2025-07-06 15:27:40,741 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:27:40,741 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:27:40,741 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.056s
INFO:     127.0.0.1:55871 - "POST /sales HTTP/1.1" 200 OK
2025-07-06 15:37:08,538 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:37:08,660 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:37:08,663 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:37:08,664 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00021s] ('admin', 1, 0)
2025-07-06 15:37:09,084 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:37:09,088 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:37:09,089 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:37:09,089 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.554s
INFO:     127.0.0.1:58811 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:37:09,098 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:37:09,099 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:37:09,099 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:58813 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 15:37:09,103 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:37:09,108 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:37:09,109 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:37:09,109 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00016s] ('admin', 1, 0)
2025-07-06 15:37:09,111 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:37:09,111 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:37:09,111 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.009s
INFO:     127.0.0.1:58811 - "GET /verify HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/utils/search.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 15:50:55,413 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [31140]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1067086e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106700e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106701310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 15:50:56,668 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [36747]
INFO:     Waiting for application startup.
2025-07-06 15:50:56,695 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 15:51:40,263 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [36747]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1069186e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106914e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106915310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 15:51:41,299 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [36771]
INFO:     Waiting for application startup.
2025-07-06 15:51:41,326 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 15:52:10,840 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [36771]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1040b86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1040b4e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1040b5310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 15:52:11,852 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [36784]
INFO:     Waiting for application startup.
2025-07-06 15:52:11,879 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 15:52:39,876 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [36784]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ea46e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ea0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ea1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 15:52:40,837 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [36797]
INFO:     Waiting for application startup.
2025-07-06 15:52:40,864 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
2025-07-06 15:53:49,620 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:53:49,649 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:53:49,652 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:53:49,652 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00018s] ('admin', 1, 0)
2025-07-06 15:53:49,656 - passlib.handlers.bcrypt - WARNING - _load_backend_mixin:622 - (trapped) error reading bcrypt version
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/site-packages/passlib/handlers/bcrypt.py", line 620, in _load_backend_mixin
    version = _bcrypt.__about__.__version__
              ^^^^^^^^^^^^^^^^^
AttributeError: module 'bcrypt' has no attribute '__about__'
2025-07-06 15:53:50,097 - app.app.routers.auth_router - INFO - business:217 - BUSINESS: user_login
2025-07-06 15:53:50,100 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:53:50,100 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:53:50,101 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.481s
INFO:     127.0.0.1:63841 - "POST /token HTTP/1.1" 200 OK
2025-07-06 15:53:50,113 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:53:50,113 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:53:50,113 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.001s
INFO:     127.0.0.1:63843 - "OPTIONS /verify HTTP/1.1" 200 OK
2025-07-06 15:53:50,116 - app.app.middleware - INFO - info:165 - Request started
2025-07-06 15:53:50,120 - sqlalchemy.engine.Engine - INFO - _connection_begin_impl:2698 - BEGIN (implicit)
2025-07-06 15:53:50,121 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - SELECT users.id AS users_id, users.username AS users_username, users.hashed_password AS users_hashed_password, users.role AS users_role 
FROM users 
WHERE users.username = ?
 LIMIT ? OFFSET ?
2025-07-06 15:53:50,121 - sqlalchemy.engine.Engine - INFO - _execute_context:1842 - [generated in 0.00013s] ('admin', 1, 0)
2025-07-06 15:53:50,122 - sqlalchemy.engine.Engine - INFO - _connection_rollback_impl:2701 - ROLLBACK
2025-07-06 15:53:50,122 - app.app.middleware - INFO - info:165 - Request completed
2025-07-06 15:53:50,122 - app.app.middleware - INFO - performance:208 - PERFORMANCE: Request processed took 0.006s
INFO:     127.0.0.1:63841 - "GET /verify HTTP/1.1" 200 OK
WARNING:  WatchFiles detected changes in 'app/routers/products.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 15:54:45,826 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [36797]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x110ff86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x110ff0f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x110ff1450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 15:54:47,039 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [36843]
INFO:     Waiting for application startup.
2025-07-06 15:54:47,065 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'conftest.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 15:55:18,720 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [36843]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1063a06e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106398e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106399310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 15:55:19,686 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [36882]
INFO:     Waiting for application startup.
2025-07-06 15:55:19,713 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/models/audit.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 16:10:21,082 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [36882]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1088486e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108840e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108841310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 16:10:22,443 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [37724]
INFO:     Waiting for application startup.
2025-07-06 16:10:22,469 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/services/audit_service.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 16:11:13,525 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [37724]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10494c6e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104944e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104945310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 16:11:14,572 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [37741]
INFO:     Waiting for application startup.
2025-07-06 16:11:14,598 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/decorators/audit_decorator.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 16:11:57,348 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [37741]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111ff86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111ff0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111ff1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
2025-07-06 16:11:58,371 - app.logging_config - INFO - setup_logging:120 - Logging system initialized
INFO:     Started server process [37766]
INFO:     Waiting for application startup.
2025-07-06 16:11:58,398 - app.app.main - INFO - info:165 - Application starting
INFO:     Application startup complete.
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
INFO:     Shutting down
INFO:     Waiting for application shutdown.
2025-07-06 16:12:06,390 - app.app.main - INFO - info:165 - Application shutting down
INFO:     Application shutdown complete.
INFO:     Finished server process [37766]
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1087f86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1087f4e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1087f5310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-12:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1062106e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10620ce10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10620d310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-13:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1042a06e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104298e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104299310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-14:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103da46e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103da0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103da1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-15:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10ab506e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10ab48e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10ab49310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-16:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1046f86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1046f4e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1046f5310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-17:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/audit.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1122f86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1122f0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1122f1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-18:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10ce44830>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10ce48e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10ce49310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-19:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x109678830>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10967ce10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10967d310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-20:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 9, in <module>
    from .decorators.audit_decorator import audit_create, audit_update, audit_delete, audit_search, audit_sale
  File "/Users/user/TuAppDeAccesorios/backend/app/decorators/audit_decorator.py", line 13, in <module>
    from ..models.audit import AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/models.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103df8590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103df4e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103df5310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-21:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/auth_router.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10448c590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104484e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104485310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-22:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/auth_router.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104418590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104410e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104411310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-23:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/utils/fulltext_search.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10b8fc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10b8f0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10b8f1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-24:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/utils/search.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111cf8590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111cf0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111cf1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-25:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/search.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ef8590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ef0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ef1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-26:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/products.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104958590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104950f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104951450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-27:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1086f46e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1086f0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1086f1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-28:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1130f46e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1130f0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1130f1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-29:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'scripts/setup_postgresql_extensions.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106be8590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106be0e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106be1310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-30:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/utils/performance_optimizer.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104130590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104128e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104129310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-31:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1056b0590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1056ace10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1056ad310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-32:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104bfc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104bf4e10>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104bf5310>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-33:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105f9c590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105f94f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105f95450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-34:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111ef8590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111ef4f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x111ef5450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-35:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1051cc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1051c4f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1051c5450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-36:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104c14590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104c10f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104c11450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-37:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/crud.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1076fc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1076f4f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1076f5450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-38:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/performance.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10691c590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106910f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106911450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-39:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104a506e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104a48f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104a49450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-40:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104b906e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104b84f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104b85450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-41:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/celery_app.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10815c590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108154f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108155450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-42:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/tasks/__init__.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108184590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108178f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108179450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-43:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/tasks/product_tasks.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107efc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ef0f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107ef1450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-44:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/tasks/inventory_tasks.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105674590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105668f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105669450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-45:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/tasks/notification_tasks.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104cfc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104cf0f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x104cf1450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-46:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/tasks/report_tasks.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1071fc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1071f0f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1071f1450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-47:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/tasks/audit_tasks.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108b50590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108b44f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108b45450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-48:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/celery_jobs.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103dcc590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103dc0f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x103dc1450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-49:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106c846e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106c78f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106c79450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-50:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107fa86e0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107f9cf50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107f9d450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-51:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/celery_beat_config.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108a14590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108a08f50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108a09450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-52:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/celery_app.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1080ac590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10809cf50>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x10809d450>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-53:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/models.py", line 136, in <module>
    from .models.audit import AuditLog, SecurityAlert, LoginAttempt, AuditActionType, AuditSeverity
ModuleNotFoundError: No module named 'app.models.audit'; 'app.models' is not a package
WARNING:  WatchFiles detected changes in 'app/models/__init__.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106ae8440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106ae1090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106ae1590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-54:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/schemas.py", line 6, in <module>
    from .models import UserRole, LoanStatus
ImportError: cannot import name 'UserRole' from 'app.models' (/Users/user/TuAppDeAccesorios/backend/app/models/__init__.py)
WARNING:  WatchFiles detected changes in 'app/models/enums.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107d04440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107b51090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107b51590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
Process SpawnProcess-55:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 3, in <module>
    from . import models, schemas
  File "/Users/user/TuAppDeAccesorios/backend/app/schemas.py", line 6, in <module>
    from .models import UserRole, LoanStatus
ImportError: cannot import name 'UserRole' from 'app.models' (/Users/user/TuAppDeAccesorios/backend/app/models/__init__.py)
WARNING:  WatchFiles detected changes in 'app/models/__init__.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108c00440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108bfd090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108bfd590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-56:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 7, in <module>
    from .utils.search import search_products_secure, SearchPerformanceTracker
  File "/Users/user/TuAppDeAccesorios/backend/app/utils/search.py", line 9, in <module>
    from ..models import Product
ImportError: cannot import name 'Product' from 'app.models' (/Users/user/TuAppDeAccesorios/backend/app/models/__init__.py)
WARNING:  WatchFiles detected changes in 'app/models/main.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108b80440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108b79090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108b79590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-57:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 7, in <module>
    from .utils.search import search_products_secure, SearchPerformanceTracker
  File "/Users/user/TuAppDeAccesorios/backend/app/utils/search.py", line 9, in <module>
    from ..models import Product
ImportError: cannot import name 'Product' from 'app.models' (/Users/user/TuAppDeAccesorios/backend/app/models/__init__.py)
WARNING:  WatchFiles detected changes in 'app/models/__init__.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108804440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108801090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108801590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-58:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 10, in <module>
    from .utils.performance_optimizer import cache_expensive_operation, optimize_db_session, monitor_performance
  File "/Users/user/TuAppDeAccesorios/backend/app/utils/performance_optimizer.py", line 14, in <module>
    from ..cache import cache_manager, redis_client
ImportError: cannot import name 'redis_client' from 'app.cache' (/Users/user/TuAppDeAccesorios/backend/app/cache.py)
WARNING:  WatchFiles detected changes in 'app/models/enums.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108604440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108601090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108601590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-59:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 10, in <module>
    from .utils.performance_optimizer import cache_expensive_operation, optimize_db_session, monitor_performance
  File "/Users/user/TuAppDeAccesorios/backend/app/utils/performance_optimizer.py", line 14, in <module>
    from ..cache import cache_manager, redis_client
ImportError: cannot import name 'redis_client' from 'app.cache' (/Users/user/TuAppDeAccesorios/backend/app/cache.py)
WARNING:  WatchFiles detected changes in 'app/models.py', 'app/models_old.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105f04440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105f01090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105f01590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-60:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 10, in <module>
    from .utils.performance_optimizer import cache_expensive_operation, optimize_db_session, monitor_performance
  File "/Users/user/TuAppDeAccesorios/backend/app/utils/performance_optimizer.py", line 14, in <module>
    from ..cache import cache_manager, redis_client
ImportError: cannot import name 'redis_client' from 'app.cache' (/Users/user/TuAppDeAccesorios/backend/app/cache.py)
WARNING:  WatchFiles detected changes in 'app/utils/performance_optimizer.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105204440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105051090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x105051590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-61:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 11, in <module>
    from .services.intelligent_cache import ProductCacheManager, cache_product_operation
  File "/Users/user/TuAppDeAccesorios/backend/app/services/intelligent_cache.py", line 13, in <module>
    from ..cache import cache_manager, redis_client
ImportError: cannot import name 'redis_client' from 'app.cache' (/Users/user/TuAppDeAccesorios/backend/app/cache.py)
WARNING:  WatchFiles detected changes in 'app/utils/performance_optimizer.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106658440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106651090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x106651590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-62:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 11, in <module>
    from .services.intelligent_cache import ProductCacheManager, cache_product_operation
  File "/Users/user/TuAppDeAccesorios/backend/app/services/intelligent_cache.py", line 13, in <module>
    from ..cache import cache_manager, redis_client
ImportError: cannot import name 'redis_client' from 'app.cache' (/Users/user/TuAppDeAccesorios/backend/app/cache.py)
WARNING:  WatchFiles detected changes in 'app/utils/performance_optimizer.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x118c04440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x118c01090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x118c01590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-63:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/products.py", line 5, in <module>
    from .. import crud, schemas, models
  File "/Users/user/TuAppDeAccesorios/backend/app/crud.py", line 11, in <module>
    from .services.intelligent_cache import ProductCacheManager, cache_product_operation
  File "/Users/user/TuAppDeAccesorios/backend/app/services/intelligent_cache.py", line 13, in <module>
    from ..cache import cache_manager, redis_client
ImportError: cannot import name 'redis_client' from 'app.cache' (/Users/user/TuAppDeAccesorios/backend/app/cache.py)
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1083e8440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1083e5090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1083e5590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-64:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 11, in <module>
    from ..database import get_db
ImportError: cannot import name 'get_db' from 'app.database' (/Users/user/TuAppDeAccesorios/backend/app/database.py)
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108bd0440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108bc9090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108bc9590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-65:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 11, in <module>
    from ..database import get_db
ImportError: cannot import name 'get_db' from 'app.database' (/Users/user/TuAppDeAccesorios/backend/app/database.py)
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1083c0440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1083b9090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1083b9590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-66:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 11, in <module>
    from ..database import get_db
ImportError: cannot import name 'get_db' from 'app.database' (/Users/user/TuAppDeAccesorios/backend/app/database.py)
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x118a04440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1189fd090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1189fd590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-67:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 11, in <module>
    from ..database import get_db
ImportError: cannot import name 'get_db' from 'app.database' (/Users/user/TuAppDeAccesorios/backend/app/database.py)
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x107904440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1078fd090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1078fd590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-68:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 11, in <module>
    from ..database import get_db
ImportError: cannot import name 'get_db' from 'app.database' (/Users/user/TuAppDeAccesorios/backend/app/database.py)
WARNING:  WatchFiles detected changes in 'app/services/intelligent_cache.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108c7c440>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108c75090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x108c75590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-69:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 11, in <module>
    from ..database import get_db
ImportError: cannot import name 'get_db' from 'app.database' (/Users/user/TuAppDeAccesorios/backend/app/database.py)
WARNING:  WatchFiles detected changes in 'app/database.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1070582f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1070551d0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1070556d0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-70:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 13, in <module>
    from ..models.user import User
ModuleNotFoundError: No module named 'app.models.user'
WARNING:  WatchFiles detected changes in 'app/routers/celery_jobs.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1193042f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1185fd090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1185fd590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-71:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 14, in <module>
    from ..schemas.response import GenericResponse
ModuleNotFoundError: No module named 'app.schemas.response'; 'app.schemas' is not a package
WARNING:  WatchFiles detected changes in 'app/schemas.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1113c02f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1113bd090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x1113bd590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-72:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 14, in <module>
    from ..schemas.response import GenericResponse
ModuleNotFoundError: No module named 'app.schemas.response'; 'app.schemas' is not a package
WARNING:  WatchFiles detected changes in 'app/routers/celery_jobs.py'. Reloading...
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x110b042f0>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para SECRET_KEY
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x110afd090>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para POSTGRES_PASSWORD
Error conectando a Vault: HTTPConnectionPool(host='localhost', port=8200): Max retries exceeded with url: /v1/sys/seal-status (Caused by NewConnectionError('<urllib3.connection.HTTPConnection object at 0x110afd590>: Failed to establish a new connection: [Errno 61] Connection refused'))
Vault no disponible, usando valor por defecto para REDIS_PASSWORD
/Users/user/miniconda3/lib/python3.13/site-packages/pydantic/_internal/_config.py:345: UserWarning: Valid config keys have changed in V2:
* 'orm_mode' has been renamed to 'from_attributes'
  warnings.warn(message, UserWarning)
Process SpawnProcess-73:
Traceback (most recent call last):
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 313, in _bootstrap
    self.run()
    ~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/multiprocessing/process.py", line 108, in run
    self._target(*self._args, **self._kwargs)
    ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/_subprocess.py", line 80, in subprocess_started
    target(sockets=sockets)
    ~~~~~~^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 67, in run
    return asyncio.run(self.serve(sockets=sockets))
           ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 195, in run
    return runner.run(main)
           ~~~~~~~~~~^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/asyncio/runners.py", line 118, in run
    return self._loop.run_until_complete(task)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^
  File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 71, in serve
    await self._serve(sockets)
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/server.py", line 78, in _serve
    config.load()
    ~~~~~~~~~~~^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/config.py", line 436, in load
    self.loaded_app = import_from_string(self.app)
                      ~~~~~~~~~~~~~~~~~~^^^^^^^^^^
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 22, in import_from_string
    raise exc from None
  File "/Users/user/miniconda3/lib/python3.13/site-packages/uvicorn/importer.py", line 19, in import_from_string
    module = importlib.import_module(module_str)
  File "/Users/user/miniconda3/lib/python3.13/importlib/__init__.py", line 88, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<frozen importlib._bootstrap>", line 1387, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1360, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1331, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 935, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 1026, in exec_module
  File "<frozen importlib._bootstrap>", line 488, in _call_with_frames_removed
  File "/Users/user/TuAppDeAccesorios/backend/app/main.py", line 3, in <module>
    from .routers import products, distributors, users, auth_router, pos, consignments, reports, cache_admin, metrics, audit, search, performance, celery_jobs
  File "/Users/user/TuAppDeAccesorios/backend/app/routers/celery_jobs.py", line 16, in <module>
    from ..celery_app import celery_app
  File "/Users/user/TuAppDeAccesorios/backend/app/celery_app.py", line 6, in <module>
    from celery import Celery
ModuleNotFoundError: No module named 'celery'
INFO:     Stopping reloader process [30819]
