{"ast":null,"code":"import React,{Component}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";/**\n * Componente ErrorBoundary para capturar errores de React\n */class ErrorBoundary extends Component{constructor(props){super(props);this.state={hasError:false};}static getDerivedStateFromError(error){// Actualiza el state para mostrar la UI de error\nreturn{hasError:true,error};}componentDidCatch(error,errorInfo){// Registrar el error\nconsole.error('ErrorBoundary caught an error:',error,errorInfo);this.setState({error,errorInfo});// Llamar callback si está definido\nif(this.props.onError){this.props.onError(error,errorInfo);}// En producción, enviar el error a un servicio de monitoreo\nif(process.env.NODE_ENV==='production'){// Aquí se podría enviar a Sentry, LogRocket, etc.\nthis.logErrorToService(error,errorInfo);}}logErrorToService(error,errorInfo){// Implementar logging a servicio externo\nconsole.log('Logging error to external service:',{error:error.message,stack:error.stack,componentStack:errorInfo.componentStack});}render(){if(this.state.hasError){var _this$state$errorInfo;// Mostrar fallback personalizado si se proporciona\nif(this.props.fallback){return this.props.fallback;}// UI de error por defecto\nreturn/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',margin:'20px',border:'2px solid #ff6b6b',borderRadius:'8px',backgroundColor:'#ffe0e0',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{color:'#d63031',marginBottom:'16px'},children:\"\\xA1Oops! Algo sali\\xF3 mal\"}),/*#__PURE__*/_jsx(\"p\",{style:{color:'#2d3436',marginBottom:'16px'},children:\"Ha ocurrido un error inesperado. Por favor, recarga la p\\xE1gina o int\\xE9ntalo m\\xE1s tarde.\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'16px'},children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>window.location.reload(),style:{padding:'10px 20px',backgroundColor:'#74b9ff',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',marginRight:'10px'},children:\"Recargar P\\xE1gina\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>this.setState({hasError:false}),style:{padding:'10px 20px',backgroundColor:'#00b894',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Intentar de Nuevo\"})]}),process.env.NODE_ENV==='development'&&this.state.error&&/*#__PURE__*/_jsxs(\"details\",{style:{textAlign:'left',marginTop:'16px'},children:[/*#__PURE__*/_jsx(\"summary\",{style:{cursor:'pointer',fontWeight:'bold'},children:\"Detalles del Error (Solo en Desarrollo)\"}),/*#__PURE__*/_jsxs(\"pre\",{style:{backgroundColor:'#2d3436',color:'#ddd',padding:'10px',borderRadius:'4px',overflow:'auto',fontSize:'12px',marginTop:'8px'},children:[this.state.error.stack,(_this$state$errorInfo=this.state.errorInfo)===null||_this$state$errorInfo===void 0?void 0:_this$state$errorInfo.componentStack]})]})]});}return this.props.children;}}export default ErrorBoundary;/**\n * Hook para manejar errores en componentes funcionales\n */export const useErrorHandler=()=>{const[error,setError]=React.useState(null);const handleError=React.useCallback(error=>{console.error('Error handled by useErrorHandler:',error);setError(error);},[]);const clearError=React.useCallback(()=>{setError(null);},[]);// Si hay un error, lanzarlo para que sea capturado por ErrorBoundary\nReact.useEffect(()=>{if(error){throw error;}},[error]);return{handleError,clearError};};","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","ErrorBoundary","constructor","props","state","hasError","getDerivedStateFromError","error","componentDidCatch","errorInfo","console","setState","onError","process","env","NODE_ENV","logErrorToService","log","message","stack","componentStack","render","_this$state$errorInfo","fallback","style","padding","margin","border","borderRadius","backgroundColor","textAlign","children","color","marginBottom","onClick","window","location","reload","cursor","marginRight","marginTop","fontWeight","overflow","fontSize","useErrorHandler","setError","useState","handleError","useCallback","clearError","useEffect"],"sources":["/Users/user/TuAppDeAccesorios/frontend/src/components/ErrorBoundary.tsx"],"sourcesContent":["import React, { Component, ErrorInfo, ReactNode } from 'react';\n\ninterface Props {\n  children: ReactNode;\n  fallback?: ReactNode;\n  onError?: (error: Error, errorInfo: ErrorInfo) => void;\n}\n\ninterface State {\n  hasError: boolean;\n  error?: Error;\n  errorInfo?: ErrorInfo;\n}\n\n/**\n * Componente ErrorBoundary para capturar errores de React\n */\nclass ErrorBoundary extends Component<Props, State> {\n  constructor(props: Props) {\n    super(props);\n    this.state = { hasError: false };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    // Actualiza el state para mostrar la UI de error\n    return { \n      hasError: true,\n      error \n    };\n  }\n\n  override componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // Registrar el error\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    this.setState({\n      error,\n      errorInfo\n    });\n\n    // Llamar callback si está definido\n    if (this.props.onError) {\n      this.props.onError(error, errorInfo);\n    }\n\n    // En producción, enviar el error a un servicio de monitoreo\n    if (process.env.NODE_ENV === 'production') {\n      // Aquí se podría enviar a Sentry, LogRocket, etc.\n      this.logErrorToService(error, errorInfo);\n    }\n  }\n\n  private logErrorToService(error: Error, errorInfo: ErrorInfo) {\n    // Implementar logging a servicio externo\n    console.log('Logging error to external service:', {\n      error: error.message,\n      stack: error.stack,\n      componentStack: errorInfo.componentStack\n    });\n  }\n\n  override render() {\n    if (this.state.hasError) {\n      // Mostrar fallback personalizado si se proporciona\n      if (this.props.fallback) {\n        return this.props.fallback;\n      }\n\n      // UI de error por defecto\n      return (\n        <div style={{\n          padding: '20px',\n          margin: '20px',\n          border: '2px solid #ff6b6b',\n          borderRadius: '8px',\n          backgroundColor: '#ffe0e0',\n          textAlign: 'center'\n        }}>\n          <h2 style={{ color: '#d63031', marginBottom: '16px' }}>\n            ¡Oops! Algo salió mal\n          </h2>\n          <p style={{ color: '#2d3436', marginBottom: '16px' }}>\n            Ha ocurrido un error inesperado. Por favor, recarga la página o inténtalo más tarde.\n          </p>\n          \n          <div style={{ marginBottom: '16px' }}>\n            <button\n              onClick={() => window.location.reload()}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#74b9ff',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer',\n                marginRight: '10px'\n              }}\n            >\n              Recargar Página\n            </button>\n            \n            <button\n              onClick={() => this.setState({ hasError: false })}\n              style={{\n                padding: '10px 20px',\n                backgroundColor: '#00b894',\n                color: 'white',\n                border: 'none',\n                borderRadius: '4px',\n                cursor: 'pointer'\n              }}\n            >\n              Intentar de Nuevo\n            </button>\n          </div>\n\n          {/* Mostrar detalles del error en desarrollo */}\n          {process.env.NODE_ENV === 'development' && this.state.error && (\n            <details style={{ textAlign: 'left', marginTop: '16px' }}>\n              <summary style={{ cursor: 'pointer', fontWeight: 'bold' }}>\n                Detalles del Error (Solo en Desarrollo)\n              </summary>\n              <pre style={{\n                backgroundColor: '#2d3436',\n                color: '#ddd',\n                padding: '10px',\n                borderRadius: '4px',\n                overflow: 'auto',\n                fontSize: '12px',\n                marginTop: '8px'\n              }}>\n                {this.state.error.stack}\n                {this.state.errorInfo?.componentStack}\n              </pre>\n            </details>\n          )}\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n\n/**\n * Hook para manejar errores en componentes funcionales\n */\nexport const useErrorHandler = () => {\n  const [error, setError] = React.useState<Error | null>(null);\n\n  const handleError = React.useCallback((error: Error) => {\n    console.error('Error handled by useErrorHandler:', error);\n    setError(error);\n  }, []);\n\n  const clearError = React.useCallback(() => {\n    setError(null);\n  }, []);\n\n  // Si hay un error, lanzarlo para que sea capturado por ErrorBoundary\n  React.useEffect(() => {\n    if (error) {\n      throw error;\n    }\n  }, [error]);\n\n  return { handleError, clearError };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}