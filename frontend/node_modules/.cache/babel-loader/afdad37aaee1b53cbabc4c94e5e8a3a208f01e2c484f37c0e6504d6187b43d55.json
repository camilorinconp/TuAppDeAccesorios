{"ast":null,"code":"import React,{useState}from'react';import{useNavigate}from'react-router-dom';import{useAuth}from'../context/AuthContext';import{loginUser}from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{const[username,setUsername]=useState('admin');const[password,setPassword]=useState('admin123');const[error,setError]=useState(null);const{login}=useAuth();const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setError(null);console.log('🔐 Iniciando login con:',{username,password:'***'});try{console.log('📤 Llamando a loginUser...');const response=await loginUser(username,password);console.log('✅ Login response:',response);console.log('🔍 Verificando estado de autenticación...');// Verificar el estado de autenticación después del login\nconst isAuthenticated=await login();console.log('🔍 Estado autenticación:',isAuthenticated);if(isAuthenticated){console.log('🎉 Login exitoso, navegando a dashboard');navigate('/dashboard');}else{console.log('❌ Login falló en verificación');setError(\"Error en la autenticación - las credenciales fueron aceptadas pero la verificación falló\");}}catch(err){console.error('❌ Login error:',err);setError(err.message||\"Credenciales inválidas\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px',maxWidth:'400px',margin:'50px auto',border:'1px solid #ccc',borderRadius:'8px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Iniciar Sesi\\xF3n\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",style:{display:'block',marginBottom:'5px'},children:\"Usuario:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",value:username,onChange:e=>setUsername(e.target.value),style:{width:'100%',padding:'8px',boxSizing:'border-box'},required:true})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",style:{display:'block',marginBottom:'5px'},children:\"Contrase\\xF1a:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),style:{width:'100%',padding:'8px',boxSizing:'border-box'},required:true})]}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:'100%',padding:'10px',backgroundColor:'#007bff',color:'white',border:'none',borderRadius:'5px',cursor:'pointer'},children:\"Ingresar\"})]})]});};export default LoginPage;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}