{"ast":null,"code":"import _objectSpread from\"/Users/user/TuAppDeAccesorios/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{APIErrorHandler}from'../services/apiErrorHandler';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";/**\n * Componente para mostrar notificaciones de error\n */const ErrorNotification=_ref=>{let{error,onClose,autoClose=true,autoCloseDelay=5000}=_ref;const[isVisible,setIsVisible]=useState(false);useEffect(()=>{if(error){setIsVisible(true);if(autoClose){const timer=setTimeout(()=>{handleClose();},autoCloseDelay);return()=>clearTimeout(timer);}}else{setIsVisible(false);}return undefined;},[error,autoClose,autoCloseDelay]);const handleClose=()=>{setIsVisible(false);setTimeout(onClose,300);// Delay para animación\n};const handleRetry=()=>{// Aquí se podría implementar lógica de retry específica\nhandleClose();};if(!error||!isVisible){return null;}const errorType=error.type||'unknown_error';const isRecoverable=APIErrorHandler.isRecoverableError(error);const userMessage=APIErrorHandler.getUserFriendlyMessage(error);const getErrorStyle=()=>{const baseStyle={position:'fixed',top:'20px',right:'20px',maxWidth:'400px',padding:'16px',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)',zIndex:1000,animation:isVisible?'slideIn 0.3s ease-out':'slideOut 0.3s ease-in',color:'white',fontSize:'14px',lineHeight:'1.4'};// Colores según el tipo de error\nswitch(errorType){case'validation_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#f39c12'});// Naranja\ncase'authentication_error':case'authorization_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#e74c3c'});// Rojo\ncase'network_error':case'timeout_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#9b59b6'});// Púrpura\ncase'insufficient_stock_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#e67e22'});// Naranja oscuro\ndefault:return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#95a5a6'});// Gris\n}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes slideIn {\\n            from {\\n              transform: translateX(100%);\\n              opacity: 0;\\n            }\\n            to {\\n              transform: translateX(0);\\n              opacity: 1;\\n            }\\n          }\\n          \\n          @keyframes slideOut {\\n            from {\\n              transform: translateX(0);\\n              opacity: 1;\\n            }\\n            to {\\n              transform: translateX(100%);\\n              opacity: 0;\\n            }\\n          }\\n        \"}),/*#__PURE__*/_jsxs(\"div\",{style:getErrorStyle(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,marginRight:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:getErrorTitle(errorType)}),/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-line'},children:userMessage})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,style:{background:'none',border:'none',color:'white',fontSize:'18px',cursor:'pointer',padding:'0',width:'24px',height:'24px',display:'flex',alignItems:'center',justifyContent:'center'},title:\"Cerrar\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',display:'flex',gap:'8px'},children:[isRecoverable&&/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,style:{backgroundColor:'rgba(255, 255, 255, 0.2)',border:'1px solid rgba(255, 255, 255, 0.3)',color:'white',padding:'6px 12px',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"Reintentar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,style:{backgroundColor:'rgba(255, 255, 255, 0.2)',border:'1px solid rgba(255, 255, 255, 0.3)',color:'white',padding:'6px 12px',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"Cerrar\"})]}),autoClose&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:0,left:0,height:'3px',backgroundColor:'rgba(255, 255, 255, 0.3)',animation:\"shrink \".concat(autoCloseDelay,\"ms linear\")}})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes shrink {\\n            from { width: 100%; }\\n            to { width: 0%; }\\n          }\\n        \"})]});};/**\n * Obtiene el título apropiado según el tipo de error\n */const getErrorTitle=errorType=>{switch(errorType){case'validation_error':return'Error de Validación';case'not_found_error':return'No Encontrado';case'duplicate_error':return'Recurso Duplicado';case'insufficient_stock_error':return'Stock Insuficiente';case'authentication_error':return'Error de Autenticación';case'authorization_error':return'Sin Permisos';case'network_error':return'Error de Conexión';case'timeout_error':return'Tiempo Agotado';case'business_logic_error':return'Error en la Operación';case'database_error':return'Error de Base de Datos';case'internal_server_error':return'Error del Servidor';default:return'Error';}};export default ErrorNotification;","map":{"version":3,"names":["React","useState","useEffect","APIErrorHandler","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ErrorNotification","_ref","error","onClose","autoClose","autoCloseDelay","isVisible","setIsVisible","timer","setTimeout","handleClose","clearTimeout","undefined","handleRetry","errorType","type","isRecoverable","isRecoverableError","userMessage","getUserFriendlyMessage","getErrorStyle","baseStyle","position","top","right","maxWidth","padding","borderRadius","boxShadow","zIndex","animation","color","fontSize","lineHeight","_objectSpread","backgroundColor","children","style","display","justifyContent","alignItems","flex","marginRight","fontWeight","marginBottom","getErrorTitle","whiteSpace","onClick","background","border","cursor","width","height","title","marginTop","gap","bottom","left","concat"],"sources":["/Users/user/TuAppDeAccesorios/frontend/src/components/ErrorNotification.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { APIErrorHandler } from '../services/apiErrorHandler';\n\ninterface ErrorNotificationProps {\n  error: Error | null;\n  onClose: () => void;\n  autoClose?: boolean;\n  autoCloseDelay?: number;\n}\n\n/**\n * Componente para mostrar notificaciones de error\n */\nconst ErrorNotification: React.FC<ErrorNotificationProps> = ({\n  error,\n  onClose,\n  autoClose = true,\n  autoCloseDelay = 5000\n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n\n  useEffect(() => {\n    if (error) {\n      setIsVisible(true);\n      \n      if (autoClose) {\n        const timer = setTimeout(() => {\n          handleClose();\n        }, autoCloseDelay);\n\n        return () => clearTimeout(timer);\n      }\n    } else {\n      setIsVisible(false);\n    }\n    \n    return undefined;\n  }, [error, autoClose, autoCloseDelay]);\n\n  const handleClose = () => {\n    setIsVisible(false);\n    setTimeout(onClose, 300); // Delay para animación\n  };\n\n  const handleRetry = () => {\n    // Aquí se podría implementar lógica de retry específica\n    handleClose();\n  };\n\n  if (!error || !isVisible) {\n    return null;\n  }\n\n  const errorType = (error as any).type || 'unknown_error';\n  const isRecoverable = APIErrorHandler.isRecoverableError(error);\n  const userMessage = APIErrorHandler.getUserFriendlyMessage(error);\n\n  const getErrorStyle = () => {\n    const baseStyle = {\n      position: 'fixed' as const,\n      top: '20px',\n      right: '20px',\n      maxWidth: '400px',\n      padding: '16px',\n      borderRadius: '8px',\n      boxShadow: '0 4px 12px rgba(0, 0, 0, 0.15)',\n      zIndex: 1000,\n      animation: isVisible ? 'slideIn 0.3s ease-out' : 'slideOut 0.3s ease-in',\n      color: 'white',\n      fontSize: '14px',\n      lineHeight: '1.4'\n    };\n\n    // Colores según el tipo de error\n    switch (errorType) {\n      case 'validation_error':\n        return { ...baseStyle, backgroundColor: '#f39c12' }; // Naranja\n      case 'authentication_error':\n      case 'authorization_error':\n        return { ...baseStyle, backgroundColor: '#e74c3c' }; // Rojo\n      case 'network_error':\n      case 'timeout_error':\n        return { ...baseStyle, backgroundColor: '#9b59b6' }; // Púrpura\n      case 'insufficient_stock_error':\n        return { ...baseStyle, backgroundColor: '#e67e22' }; // Naranja oscuro\n      default:\n        return { ...baseStyle, backgroundColor: '#95a5a6' }; // Gris\n    }\n  };\n\n  return (\n    <>\n      <style>\n        {`\n          @keyframes slideIn {\n            from {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n            to {\n              transform: translateX(0);\n              opacity: 1;\n            }\n          }\n          \n          @keyframes slideOut {\n            from {\n              transform: translateX(0);\n              opacity: 1;\n            }\n            to {\n              transform: translateX(100%);\n              opacity: 0;\n            }\n          }\n        `}\n      </style>\n      \n      <div style={getErrorStyle()}>\n        <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\n          <div style={{ flex: 1, marginRight: '12px' }}>\n            <div style={{ fontWeight: 'bold', marginBottom: '8px' }}>\n              {getErrorTitle(errorType)}\n            </div>\n            <div style={{ whiteSpace: 'pre-line' }}>\n              {userMessage}\n            </div>\n          </div>\n          \n          <button\n            onClick={handleClose}\n            style={{\n              background: 'none',\n              border: 'none',\n              color: 'white',\n              fontSize: '18px',\n              cursor: 'pointer',\n              padding: '0',\n              width: '24px',\n              height: '24px',\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center'\n            }}\n            title=\"Cerrar\"\n          >\n            ×\n          </button>\n        </div>\n\n        {/* Botones de acción */}\n        <div style={{ marginTop: '12px', display: 'flex', gap: '8px' }}>\n          {isRecoverable && (\n            <button\n              onClick={handleRetry}\n              style={{\n                backgroundColor: 'rgba(255, 255, 255, 0.2)',\n                border: '1px solid rgba(255, 255, 255, 0.3)',\n                color: 'white',\n                padding: '6px 12px',\n                borderRadius: '4px',\n                fontSize: '12px',\n                cursor: 'pointer'\n              }}\n            >\n              Reintentar\n            </button>\n          )}\n          \n          <button\n            onClick={handleClose}\n            style={{\n              backgroundColor: 'rgba(255, 255, 255, 0.2)',\n              border: '1px solid rgba(255, 255, 255, 0.3)',\n              color: 'white',\n              padding: '6px 12px',\n              borderRadius: '4px',\n              fontSize: '12px',\n              cursor: 'pointer'\n            }}\n          >\n            Cerrar\n          </button>\n        </div>\n\n        {/* Barra de progreso para auto-close */}\n        {autoClose && (\n          <div\n            style={{\n              position: 'absolute',\n              bottom: 0,\n              left: 0,\n              height: '3px',\n              backgroundColor: 'rgba(255, 255, 255, 0.3)',\n              animation: `shrink ${autoCloseDelay}ms linear`\n            }}\n          />\n        )}\n      </div>\n      \n      <style>\n        {`\n          @keyframes shrink {\n            from { width: 100%; }\n            to { width: 0%; }\n          }\n        `}\n      </style>\n    </>\n  );\n};\n\n/**\n * Obtiene el título apropiado según el tipo de error\n */\nconst getErrorTitle = (errorType: string): string => {\n  switch (errorType) {\n    case 'validation_error':\n      return 'Error de Validación';\n    case 'not_found_error':\n      return 'No Encontrado';\n    case 'duplicate_error':\n      return 'Recurso Duplicado';\n    case 'insufficient_stock_error':\n      return 'Stock Insuficiente';\n    case 'authentication_error':\n      return 'Error de Autenticación';\n    case 'authorization_error':\n      return 'Sin Permisos';\n    case 'network_error':\n      return 'Error de Conexión';\n    case 'timeout_error':\n      return 'Tiempo Agotado';\n    case 'business_logic_error':\n      return 'Error en la Operación';\n    case 'database_error':\n      return 'Error de Base de Datos';\n    case 'internal_server_error':\n      return 'Error del Servidor';\n    default:\n      return 'Error';\n  }\n};\n\nexport default ErrorNotification;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}