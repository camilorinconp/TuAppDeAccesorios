{"ast":null,"code":"var _jsxFileName = \"/Users/user/TuAppDeAccesorios/frontend/src/pages/ConsignmentLoansPage.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport ErrorNotification from '../components/ErrorNotification';\nimport { useApiError } from '../hooks/useApiError';\nimport { apiRequest } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ConsignmentLoansPage = () => {\n  _s();\n  const [loans, setLoans] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [distributors, setDistributors] = useState([]);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newLoan, setNewLoan] = useState({\n    distributor_id: '',\n    product_id: '',\n    quantity_loaned: '',\n    loan_date: new Date().toISOString().split('T')[0],\n    return_due_date: '',\n    status: 'en_prestamo'\n  });\n  const [success, setSuccess] = useState(null);\n  const {\n    error,\n    isLoading,\n    clearError,\n    executeWithErrorHandling\n  } = useApiError();\n  useEffect(() => {\n    fetchData();\n  }, []);\n  const fetchData = async () => {\n    await executeWithErrorHandling(async () => {\n      const [loansResponse, productsResponse, distributorsResponse] = await Promise.all([apiRequest('/consignments/loans?skip=0&limit=100'), apiRequest('/products/?skip=0&limit=1000'), apiRequest('/distributors/')]);\n      setLoans(loansResponse || []);\n      setProducts((productsResponse === null || productsResponse === void 0 ? void 0 : productsResponse.products) || []);\n      setDistributors(distributorsResponse || []);\n    });\n  };\n  const handleCreateLoan = async e => {\n    e.preventDefault();\n    setSuccess(null);\n    const selectedProduct = products.find(p => p.id === parseInt(newLoan.product_id));\n    const requestedQuantity = parseInt(newLoan.quantity_loaned);\n    if (!selectedProduct) {\n      clearError();\n      return;\n    }\n    if (requestedQuantity > selectedProduct.stock_quantity) {\n      alert(`Error: Stock insuficiente. Disponible: ${selectedProduct.stock_quantity}, Solicitado: ${requestedQuantity}`);\n      return;\n    }\n    await executeWithErrorHandling(async () => {\n      // Calcular fecha de vencimiento si no se especifica (30 días por defecto)\n      const returnDate = newLoan.return_due_date || new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n      const loanData = {\n        distributor_id: parseInt(newLoan.distributor_id),\n        product_id: parseInt(newLoan.product_id),\n        quantity_loaned: requestedQuantity,\n        loan_date: newLoan.loan_date,\n        return_due_date: returnDate,\n        status: newLoan.status\n      };\n      await apiRequest('/consignments/loans', {\n        method: 'POST',\n        body: JSON.stringify(loanData)\n      });\n      setSuccess(`Préstamo creado exitosamente. Stock actualizado automáticamente.`);\n      setNewLoan({\n        distributor_id: '',\n        product_id: '',\n        quantity_loaned: '',\n        loan_date: new Date().toISOString().split('T')[0],\n        return_due_date: '',\n        status: 'en_prestamo'\n      });\n      setShowCreateForm(false);\n      await fetchData(); // Refrescar datos\n    });\n  };\n  const getProductInfo = productId => {\n    return products.find(p => p.id === productId);\n  };\n  const getDistributorInfo = distributorId => {\n    return distributors.find(d => d.id === distributorId);\n  };\n  const calculateDaysUntilDue = dueDate => {\n    const today = new Date();\n    const due = new Date(dueDate);\n    const diffTime = due.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n  const getStatusColor = status => {\n    switch (status) {\n      case 'en_prestamo':\n        return '#007bff';\n      case 'devuelto':\n        return '#28a745';\n      case 'vencido':\n        return '#dc3545';\n      default:\n        return '#6c757d';\n    }\n  };\n  const selectedProduct = products.find(p => p.id === parseInt(newLoan.product_id));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\uD83C\\uDFEA Gesti\\xF3n de Pr\\xE9stamos de Consignaci\\xF3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowCreateForm(!showCreateForm),\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#28a745',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: showCreateForm ? 'Cancelar' : '+ Crear Préstamo'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ErrorNotification, {\n      error: error,\n      onClose: clearError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), success && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: '10px',\n        backgroundColor: '#d4edda',\n        border: '1px solid #c3e6cb',\n        borderRadius: '4px',\n        color: '#155724',\n        marginBottom: '20px'\n      },\n      children: success\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }, this), showCreateForm && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '30px',\n        border: '1px solid #ddd',\n        padding: '20px',\n        borderRadius: '8px',\n        backgroundColor: '#f8f9fa'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"\\uD83D\\uDCDD Crear Nuevo Pr\\xE9stamo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleCreateLoan,\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '1fr 1fr',\n          gap: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Distribuidor:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newLoan.distributor_id,\n            onChange: e => setNewLoan({\n              ...newLoan,\n              distributor_id: e.target.value\n            }),\n            required: true,\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ccc'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccionar distribuidor...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 17\n            }, this), distributors.map(dist => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: dist.id,\n              children: [dist.name, \" (C\\xF3digo: \", dist.access_code, \")\"]\n            }, dist.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Producto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: newLoan.product_id,\n            onChange: e => setNewLoan({\n              ...newLoan,\n              product_id: e.target.value\n            }),\n            required: true,\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ccc'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Seleccionar producto...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 195,\n              columnNumber: 17\n            }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: product.id,\n              children: [product.name, \" - Stock: \", product.stock_quantity, \" ($\", product.selling_price.toLocaleString('es-CO'), \")\"]\n            }, product.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Cantidad a Prestar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            value: newLoan.quantity_loaned,\n            onChange: e => setNewLoan({\n              ...newLoan,\n              quantity_loaned: e.target.value\n            }),\n            min: \"1\",\n            max: (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.stock_quantity) || 999,\n            required: true,\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ccc'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), selectedProduct && /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#666'\n            },\n            children: [\"Stock disponible: \", selectedProduct.stock_quantity, \" unidades\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Fecha de Pr\\xE9stamo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: newLoan.loan_date,\n            onChange: e => setNewLoan({\n              ...newLoan,\n              loan_date: e.target.value\n            }),\n            required: true,\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ccc'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'block',\n              marginBottom: '5px',\n              fontWeight: 'bold'\n            },\n            children: \"Fecha de Vencimiento:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: newLoan.return_due_date,\n            onChange: e => setNewLoan({\n              ...newLoan,\n              return_due_date: e.target.value\n            }),\n            style: {\n              width: '100%',\n              padding: '8px',\n              borderRadius: '4px',\n              border: '1px solid #ccc'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            style: {\n              color: '#666'\n            },\n            children: \"Opcional: 30 d\\xEDas por defecto desde la fecha de pr\\xE9stamo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            gridColumn: '1 / -1',\n            display: 'flex',\n            gap: '10px',\n            justifyContent: 'flex-end'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            onClick: () => setShowCreateForm(false),\n            style: {\n              padding: '10px 20px',\n              backgroundColor: '#6c757d',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer'\n            },\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            disabled: isLoading,\n            style: {\n              padding: '10px 20px',\n              backgroundColor: '#28a745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              cursor: 'pointer',\n              opacity: isLoading ? 0.6 : 1\n            },\n            children: isLoading ? 'Creando...' : 'Crear Préstamo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this), selectedProduct && newLoan.quantity_loaned && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px',\n          padding: '15px',\n          backgroundColor: '#e3f2fd',\n          borderRadius: '4px',\n          border: '1px solid #bbdefb'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\uD83D\\uDCCA Resumen del Pr\\xE9stamo:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Producto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 18\n          }, this), \" \", selectedProduct.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Stock actual:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 18\n          }, this), \" \", selectedProduct.stock_quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Cantidad a prestar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 18\n          }, this), \" \", newLoan.quantity_loaned]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Stock despu\\xE9s del pr\\xE9stamo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 18\n          }, this), \" \", selectedProduct.stock_quantity - parseInt(newLoan.quantity_loaned || '0')]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Valor total prestado:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 18\n          }, this), \" $\", (selectedProduct.selling_price * parseInt(newLoan.quantity_loaned || '0')).toLocaleString('es-CO'), \" COP\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"\\uD83D\\uDCCB Pr\\xE9stamos Activos (\", loans.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '20px'\n        },\n        children: \"Cargando pr\\xE9stamos...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          overflowX: 'auto'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: '100%',\n            borderCollapse: 'collapse'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                backgroundColor: '#f8f9fa'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'left'\n                },\n                children: \"ID\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 317,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'left'\n                },\n                children: \"Distribuidor\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'left'\n                },\n                children: \"Producto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'right'\n                },\n                children: \"Cantidad\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'right'\n                },\n                children: \"Valor Total\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'center'\n                },\n                children: \"Fecha Pr\\xE9stamo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'center'\n                },\n                children: \"Vencimiento\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'center'\n                },\n                children: \"Estado\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  border: '1px solid #ddd',\n                  padding: '12px',\n                  textAlign: 'center'\n                },\n                children: \"D\\xEDas Restantes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: loans.map(loan => {\n              const product = getProductInfo(loan.product_id);\n              const distributor = getDistributorInfo(loan.distributor_id);\n              const daysUntilDue = calculateDaysUntilDue(loan.return_due_date);\n              const isOverdue = daysUntilDue < 0;\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  backgroundColor: isOverdue ? '#fff3cd' : 'white'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px'\n                  },\n                  children: [\"#\", loan.id]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px'\n                  },\n                  children: [(distributor === null || distributor === void 0 ? void 0 : distributor.name) || `ID: ${loan.distributor_id}`, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#666'\n                    },\n                    children: [\"C\\xF3digo: \", (distributor === null || distributor === void 0 ? void 0 : distributor.access_code) || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px'\n                  },\n                  children: [(product === null || product === void 0 ? void 0 : product.name) || `ID: ${loan.product_id}`, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                    style: {\n                      color: '#666'\n                    },\n                    children: [\"SKU: \", (product === null || product === void 0 ? void 0 : product.sku) || 'N/A']\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px',\n                    textAlign: 'right'\n                  },\n                  children: loan.quantity_loaned\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 354,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px',\n                    textAlign: 'right'\n                  },\n                  children: [\"$\", (((product === null || product === void 0 ? void 0 : product.selling_price) || 0) * loan.quantity_loaned).toLocaleString('es-CO')]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px',\n                    textAlign: 'center'\n                  },\n                  children: loan.loan_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px',\n                    textAlign: 'center'\n                  },\n                  children: loan.return_due_date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 363,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px',\n                    textAlign: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      padding: '4px 8px',\n                      borderRadius: '12px',\n                      color: 'white',\n                      backgroundColor: getStatusColor(loan.status),\n                      fontSize: '12px'\n                    },\n                    children: loan.status.replace('_', ' ').toUpperCase()\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    border: '1px solid #ddd',\n                    padding: '8px',\n                    textAlign: 'center'\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    style: {\n                      color: isOverdue ? '#dc3545' : daysUntilDue <= 7 ? '#ffc107' : '#28a745',\n                      fontWeight: 'bold'\n                    },\n                    children: isOverdue ? `Vencido ${Math.abs(daysUntilDue)} días` : `${daysUntilDue} días`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 378,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 21\n                }, this)]\n              }, loan.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this), loans.length === 0 && !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: 'center',\n          padding: '40px',\n          color: '#666'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\uD83D\\uDCED No hay pr\\xE9stamos registrados\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 398,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Haz clic en \\\"Crear Pr\\xE9stamo\\\" para agregar el primero\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this), loans.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '30px',\n        display: 'grid',\n        gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n        gap: '15px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '15px',\n          backgroundColor: '#e3f2fd',\n          borderRadius: '8px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#1976d2'\n          },\n          children: \"\\uD83D\\uDCCA Total Pr\\xE9stamos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 418,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px',\n            fontWeight: 'bold',\n            margin: 0\n          },\n          children: loans.length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 419,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '15px',\n          backgroundColor: '#e8f5e8',\n          borderRadius: '8px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#388e3c'\n          },\n          children: \"\\u2705 En Pr\\xE9stamo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 428,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px',\n            fontWeight: 'bold',\n            margin: 0\n          },\n          children: loans.filter(l => l.status === 'en_prestamo').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '15px',\n          backgroundColor: '#fff3e0',\n          borderRadius: '8px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#f57c00'\n          },\n          children: \"\\u26A0\\uFE0F Por Vencer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 440,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px',\n            fontWeight: 'bold',\n            margin: 0\n          },\n          children: loans.filter(l => {\n            const days = calculateDaysUntilDue(l.return_due_date);\n            return days <= 7 && days >= 0 && l.status === 'en_prestamo';\n          }).length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '15px',\n          backgroundColor: '#ffebee',\n          borderRadius: '8px',\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            margin: '0 0 10px 0',\n            color: '#d32f2f'\n          },\n          children: \"\\uD83D\\uDEA8 Vencidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            fontSize: '24px',\n            fontWeight: 'bold',\n            margin: 0\n          },\n          children: loans.filter(l => calculateDaysUntilDue(l.return_due_date) < 0 && l.status === 'en_prestamo').length\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n};\n_s(ConsignmentLoansPage, \"JrSvdz9TNjK6ZU/aJ7YGKLf+Kp8=\", false, function () {\n  return [useApiError];\n});\n_c = ConsignmentLoansPage;\nexport default ConsignmentLoansPage;\nvar _c;\n$RefreshReg$(_c, \"ConsignmentLoansPage\");","map":{"version":3,"names":["React","useState","useEffect","ErrorNotification","useApiError","apiRequest","jsxDEV","_jsxDEV","ConsignmentLoansPage","_s","loans","setLoans","products","setProducts","distributors","setDistributors","showCreateForm","setShowCreateForm","newLoan","setNewLoan","distributor_id","product_id","quantity_loaned","loan_date","Date","toISOString","split","return_due_date","status","success","setSuccess","error","isLoading","clearError","executeWithErrorHandling","fetchData","loansResponse","productsResponse","distributorsResponse","Promise","all","handleCreateLoan","e","preventDefault","selectedProduct","find","p","id","parseInt","requestedQuantity","stock_quantity","alert","returnDate","now","loanData","method","body","JSON","stringify","getProductInfo","productId","getDistributorInfo","distributorId","d","calculateDaysUntilDue","dueDate","today","due","diffTime","getTime","diffDays","Math","ceil","getStatusColor","style","padding","children","display","justifyContent","alignItems","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","onClick","backgroundColor","color","border","borderRadius","cursor","onClose","onSubmit","gridTemplateColumns","gap","fontWeight","value","onChange","target","required","width","map","dist","name","access_code","product","selling_price","toLocaleString","type","min","max","gridColumn","disabled","opacity","marginTop","length","textAlign","overflowX","borderCollapse","loan","distributor","daysUntilDue","isOverdue","sku","fontSize","replace","toUpperCase","abs","margin","filter","l","days","_c","$RefreshReg$"],"sources":["/Users/user/TuAppDeAccesorios/frontend/src/pages/ConsignmentLoansPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { ConsignmentLoan, Product, Distributor } from '../types';\nimport ErrorNotification from '../components/ErrorNotification';\nimport { useApiError } from '../hooks/useApiError';\nimport { apiRequest } from '../services/api';\n\nconst ConsignmentLoansPage: React.FC = () => {\n  const [loans, setLoans] = useState<ConsignmentLoan[]>([]);\n  const [products, setProducts] = useState<Product[]>([]);\n  const [distributors, setDistributors] = useState<Distributor[]>([]);\n  const [showCreateForm, setShowCreateForm] = useState(false);\n  const [newLoan, setNewLoan] = useState({\n    distributor_id: '',\n    product_id: '',\n    quantity_loaned: '',\n    loan_date: new Date().toISOString().split('T')[0],\n    return_due_date: '',\n    status: 'en_prestamo'\n  });\n  const [success, setSuccess] = useState<string | null>(null);\n  \n  const { error, isLoading, clearError, executeWithErrorHandling } = useApiError();\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const fetchData = async () => {\n    await executeWithErrorHandling(async () => {\n      const [loansResponse, productsResponse, distributorsResponse] = await Promise.all([\n        apiRequest<ConsignmentLoan[]>('/consignments/loans?skip=0&limit=100'),\n        apiRequest<{products: Product[]}>('/products/?skip=0&limit=1000'),\n        apiRequest<Distributor[]>('/distributors/')\n      ]);\n      \n      setLoans(loansResponse || []);\n      setProducts(productsResponse?.products || []);\n      setDistributors(distributorsResponse || []);\n    });\n  };\n\n  const handleCreateLoan = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSuccess(null);\n    \n    const selectedProduct = products.find(p => p.id === parseInt(newLoan.product_id));\n    const requestedQuantity = parseInt(newLoan.quantity_loaned);\n    \n    if (!selectedProduct) {\n      clearError();\n      return;\n    }\n    \n    if (requestedQuantity > selectedProduct.stock_quantity) {\n      alert(`Error: Stock insuficiente. Disponible: ${selectedProduct.stock_quantity}, Solicitado: ${requestedQuantity}`);\n      return;\n    }\n\n    await executeWithErrorHandling(async () => {\n      // Calcular fecha de vencimiento si no se especifica (30 días por defecto)\n      const returnDate = newLoan.return_due_date || \n        new Date(Date.now() + 30 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];\n      \n      const loanData = {\n        distributor_id: parseInt(newLoan.distributor_id),\n        product_id: parseInt(newLoan.product_id),\n        quantity_loaned: requestedQuantity,\n        loan_date: newLoan.loan_date,\n        return_due_date: returnDate,\n        status: newLoan.status\n      };\n      \n      await apiRequest('/consignments/loans', {\n        method: 'POST',\n        body: JSON.stringify(loanData)\n      });\n      \n      setSuccess(`Préstamo creado exitosamente. Stock actualizado automáticamente.`);\n      setNewLoan({\n        distributor_id: '',\n        product_id: '',\n        quantity_loaned: '',\n        loan_date: new Date().toISOString().split('T')[0],\n        return_due_date: '',\n        status: 'en_prestamo'\n      });\n      setShowCreateForm(false);\n      await fetchData(); // Refrescar datos\n    });\n  };\n\n  const getProductInfo = (productId: number) => {\n    return products.find(p => p.id === productId);\n  };\n\n  const getDistributorInfo = (distributorId: number) => {\n    return distributors.find(d => d.id === distributorId);\n  };\n\n  const calculateDaysUntilDue = (dueDate: string) => {\n    const today = new Date();\n    const due = new Date(dueDate);\n    const diffTime = due.getTime() - today.getTime();\n    const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n    return diffDays;\n  };\n\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'en_prestamo': return '#007bff';\n      case 'devuelto': return '#28a745';\n      case 'vencido': return '#dc3545';\n      default: return '#6c757d';\n    }\n  };\n\n  const selectedProduct = products.find(p => p.id === parseInt(newLoan.product_id));\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '20px' }}>\n        <h1>🏪 Gestión de Préstamos de Consignación</h1>\n        <button \n          onClick={() => setShowCreateForm(!showCreateForm)}\n          style={{\n            padding: '10px 20px',\n            backgroundColor: '#28a745',\n            color: 'white',\n            border: 'none',\n            borderRadius: '4px',\n            cursor: 'pointer'\n          }}\n        >\n          {showCreateForm ? 'Cancelar' : '+ Crear Préstamo'}\n        </button>\n      </div>\n      \n      {/* Notificación de error */}\n      <ErrorNotification error={error} onClose={clearError} />\n      \n      {/* Mensaje de éxito */}\n      {success && (\n        <div style={{ \n          padding: '10px', \n          backgroundColor: '#d4edda', \n          border: '1px solid #c3e6cb', \n          borderRadius: '4px', \n          color: '#155724',\n          marginBottom: '20px'\n        }}>\n          {success}\n        </div>\n      )}\n\n      {/* Formulario de creación */}\n      {showCreateForm && (\n        <div style={{ \n          marginBottom: '30px', \n          border: '1px solid #ddd', \n          padding: '20px',\n          borderRadius: '8px',\n          backgroundColor: '#f8f9fa'\n        }}>\n          <h2>📝 Crear Nuevo Préstamo</h2>\n          <form onSubmit={handleCreateLoan} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '15px' }}>\n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Distribuidor:\n              </label>\n              <select \n                value={newLoan.distributor_id} \n                onChange={e => setNewLoan({...newLoan, distributor_id: e.target.value})}\n                required\n                style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\n              >\n                <option value=\"\">Seleccionar distribuidor...</option>\n                {distributors.map(dist => (\n                  <option key={dist.id} value={dist.id}>\n                    {dist.name} (Código: {dist.access_code})\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Producto:\n              </label>\n              <select \n                value={newLoan.product_id} \n                onChange={e => setNewLoan({...newLoan, product_id: e.target.value})}\n                required\n                style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\n              >\n                <option value=\"\">Seleccionar producto...</option>\n                {products.map(product => (\n                  <option key={product.id} value={product.id}>\n                    {product.name} - Stock: {product.stock_quantity} (${product.selling_price.toLocaleString('es-CO')})\n                  </option>\n                ))}\n              </select>\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Cantidad a Prestar:\n              </label>\n              <input \n                type=\"number\" \n                value={newLoan.quantity_loaned} \n                onChange={e => setNewLoan({...newLoan, quantity_loaned: e.target.value})}\n                min=\"1\"\n                max={selectedProduct?.stock_quantity || 999}\n                required\n                style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\n              />\n              {selectedProduct && (\n                <small style={{ color: '#666' }}>\n                  Stock disponible: {selectedProduct.stock_quantity} unidades\n                </small>\n              )}\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Fecha de Préstamo:\n              </label>\n              <input \n                type=\"date\" \n                value={newLoan.loan_date} \n                onChange={e => setNewLoan({...newLoan, loan_date: e.target.value})}\n                required\n                style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\n              />\n            </div>\n            \n            <div>\n              <label style={{ display: 'block', marginBottom: '5px', fontWeight: 'bold' }}>\n                Fecha de Vencimiento:\n              </label>\n              <input \n                type=\"date\" \n                value={newLoan.return_due_date} \n                onChange={e => setNewLoan({...newLoan, return_due_date: e.target.value})}\n                style={{ width: '100%', padding: '8px', borderRadius: '4px', border: '1px solid #ccc' }}\n              />\n              <small style={{ color: '#666' }}>\n                Opcional: 30 días por defecto desde la fecha de préstamo\n              </small>\n            </div>\n            \n            <div style={{ gridColumn: '1 / -1', display: 'flex', gap: '10px', justifyContent: 'flex-end' }}>\n              <button \n                type=\"button\" \n                onClick={() => setShowCreateForm(false)}\n                style={{\n                  padding: '10px 20px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancelar\n              </button>\n              <button \n                type=\"submit\" \n                disabled={isLoading}\n                style={{\n                  padding: '10px 20px',\n                  backgroundColor: '#28a745',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer',\n                  opacity: isLoading ? 0.6 : 1\n                }}\n              >\n                {isLoading ? 'Creando...' : 'Crear Préstamo'}\n              </button>\n            </div>\n          </form>\n          \n          {selectedProduct && newLoan.quantity_loaned && (\n            <div style={{ \n              marginTop: '20px', \n              padding: '15px', \n              backgroundColor: '#e3f2fd', \n              borderRadius: '4px',\n              border: '1px solid #bbdefb'\n            }}>\n              <h4>📊 Resumen del Préstamo:</h4>\n              <p><strong>Producto:</strong> {selectedProduct.name}</p>\n              <p><strong>Stock actual:</strong> {selectedProduct.stock_quantity}</p>\n              <p><strong>Cantidad a prestar:</strong> {newLoan.quantity_loaned}</p>\n              <p><strong>Stock después del préstamo:</strong> {selectedProduct.stock_quantity - parseInt(newLoan.quantity_loaned || '0')}</p>\n              <p><strong>Valor total prestado:</strong> ${(selectedProduct.selling_price * parseInt(newLoan.quantity_loaned || '0')).toLocaleString('es-CO')} COP</p>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Lista de préstamos */}\n      <div>\n        <h2>📋 Préstamos Activos ({loans.length})</h2>\n        {isLoading && (\n          <div style={{ textAlign: 'center', padding: '20px' }}>\n            Cargando préstamos...\n          </div>\n        )}\n        \n        <div style={{ overflowX: 'auto' }}>\n          <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n            <thead>\n              <tr style={{ backgroundColor: '#f8f9fa' }}>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'left' }}>ID</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'left' }}>Distribuidor</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'left' }}>Producto</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'right' }}>Cantidad</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'right' }}>Valor Total</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'center' }}>Fecha Préstamo</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'center' }}>Vencimiento</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'center' }}>Estado</th>\n                <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'center' }}>Días Restantes</th>\n              </tr>\n            </thead>\n            <tbody>\n              {loans.map(loan => {\n                const product = getProductInfo(loan.product_id);\n                const distributor = getDistributorInfo(loan.distributor_id);\n                const daysUntilDue = calculateDaysUntilDue(loan.return_due_date);\n                const isOverdue = daysUntilDue < 0;\n                \n                return (\n                  <tr key={loan.id} style={{ \n                    backgroundColor: isOverdue ? '#fff3cd' : 'white'\n                  }}>\n                    <td style={{ border: '1px solid #ddd', padding: '8px' }}>#{loan.id}</td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px' }}>\n                      {distributor?.name || `ID: ${loan.distributor_id}`}\n                      <br />\n                      <small style={{ color: '#666' }}>\n                        Código: {distributor?.access_code || 'N/A'}\n                      </small>\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px' }}>\n                      {product?.name || `ID: ${loan.product_id}`}\n                      <br />\n                      <small style={{ color: '#666' }}>\n                        SKU: {product?.sku || 'N/A'}\n                      </small>\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'right' }}>\n                      {loan.quantity_loaned}\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'right' }}>\n                      ${((product?.selling_price || 0) * loan.quantity_loaned).toLocaleString('es-CO')}\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'center' }}>\n                      {loan.loan_date}\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'center' }}>\n                      {loan.return_due_date}\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'center' }}>\n                      <span style={{ \n                        padding: '4px 8px', \n                        borderRadius: '12px', \n                        color: 'white',\n                        backgroundColor: getStatusColor(loan.status),\n                        fontSize: '12px'\n                      }}>\n                        {loan.status.replace('_', ' ').toUpperCase()}\n                      </span>\n                    </td>\n                    <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'center' }}>\n                      <span style={{ \n                        color: isOverdue ? '#dc3545' : daysUntilDue <= 7 ? '#ffc107' : '#28a745',\n                        fontWeight: 'bold'\n                      }}>\n                        {isOverdue ? `Vencido ${Math.abs(daysUntilDue)} días` : `${daysUntilDue} días`}\n                      </span>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </table>\n        </div>\n        \n        {loans.length === 0 && !isLoading && (\n          <div style={{ \n            textAlign: 'center', \n            padding: '40px',\n            color: '#666'\n          }}>\n            <p>📭 No hay préstamos registrados</p>\n            <p>Haz clic en \"Crear Préstamo\" para agregar el primero</p>\n          </div>\n        )}\n      </div>\n      \n      {/* Resumen estadístico */}\n      {loans.length > 0 && (\n        <div style={{ \n          marginTop: '30px',\n          display: 'grid',\n          gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))',\n          gap: '15px'\n        }}>\n          <div style={{ \n            padding: '15px',\n            backgroundColor: '#e3f2fd',\n            borderRadius: '8px',\n            textAlign: 'center'\n          }}>\n            <h3 style={{ margin: '0 0 10px 0', color: '#1976d2' }}>📊 Total Préstamos</h3>\n            <p style={{ fontSize: '24px', fontWeight: 'bold', margin: 0 }}>{loans.length}</p>\n          </div>\n          \n          <div style={{ \n            padding: '15px',\n            backgroundColor: '#e8f5e8',\n            borderRadius: '8px',\n            textAlign: 'center'\n          }}>\n            <h3 style={{ margin: '0 0 10px 0', color: '#388e3c' }}>✅ En Préstamo</h3>\n            <p style={{ fontSize: '24px', fontWeight: 'bold', margin: 0 }}>\n              {loans.filter(l => l.status === 'en_prestamo').length}\n            </p>\n          </div>\n          \n          <div style={{ \n            padding: '15px',\n            backgroundColor: '#fff3e0',\n            borderRadius: '8px',\n            textAlign: 'center'\n          }}>\n            <h3 style={{ margin: '0 0 10px 0', color: '#f57c00' }}>⚠️ Por Vencer</h3>\n            <p style={{ fontSize: '24px', fontWeight: 'bold', margin: 0 }}>\n              {loans.filter(l => {\n                const days = calculateDaysUntilDue(l.return_due_date);\n                return days <= 7 && days >= 0 && l.status === 'en_prestamo';\n              }).length}\n            </p>\n          </div>\n          \n          <div style={{ \n            padding: '15px',\n            backgroundColor: '#ffebee',\n            borderRadius: '8px',\n            textAlign: 'center'\n          }}>\n            <h3 style={{ margin: '0 0 10px 0', color: '#d32f2f' }}>🚨 Vencidos</h3>\n            <p style={{ fontSize: '24px', fontWeight: 'bold', margin: 0 }}>\n              {loans.filter(l => calculateDaysUntilDue(l.return_due_date) < 0 && l.status === 'en_prestamo').length}\n            </p>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ConsignmentLoansPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}