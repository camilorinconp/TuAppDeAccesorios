{"ast":null,"code":"import _objectSpread from\"/Users/user/TuAppDeAccesorios/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{APIErrorHandler}from'../services/apiErrorHandler';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";/**\n * Componente para mostrar notificaciones de error\n */const ErrorNotification=_ref=>{let{error,onClose,autoClose=true,autoCloseDelay=5000}=_ref;const[isVisible,setIsVisible]=useState(false);useEffect(()=>{if(error){setIsVisible(true);if(autoClose){const timer=setTimeout(()=>{handleClose();},autoCloseDelay);return()=>clearTimeout(timer);}}else{setIsVisible(false);}return undefined;},[error,autoClose,autoCloseDelay]);const handleClose=()=>{setIsVisible(false);setTimeout(onClose,300);// Delay para animación\n};const handleRetry=()=>{// Aquí se podría implementar lógica de retry específica\nhandleClose();};if(!error||!isVisible){return null;}const errorType=error.type||'unknown_error';const isRecoverable=APIErrorHandler.isRecoverableError(error);const userMessage=APIErrorHandler.getUserFriendlyMessage(error);const getErrorStyle=()=>{const baseStyle={position:'fixed',top:'20px',right:'20px',maxWidth:'400px',padding:'16px',borderRadius:'8px',boxShadow:'0 4px 12px rgba(0, 0, 0, 0.15)',zIndex:1000,animation:isVisible?'slideIn 0.3s ease-out':'slideOut 0.3s ease-in',color:'white',fontSize:'14px',lineHeight:'1.4'};// Colores según el tipo de error\nswitch(errorType){case'validation_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#f39c12'});// Naranja\ncase'authentication_error':case'authorization_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#e74c3c'});// Rojo\ncase'network_error':case'timeout_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#9b59b6'});// Púrpura\ncase'insufficient_stock_error':return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#e67e22'});// Naranja oscuro\ndefault:return _objectSpread(_objectSpread({},baseStyle),{},{backgroundColor:'#95a5a6'});// Gris\n}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes slideIn {\\n            from {\\n              transform: translateX(100%);\\n              opacity: 0;\\n            }\\n            to {\\n              transform: translateX(0);\\n              opacity: 1;\\n            }\\n          }\\n          \\n          @keyframes slideOut {\\n            from {\\n              transform: translateX(0);\\n              opacity: 1;\\n            }\\n            to {\\n              transform: translateX(100%);\\n              opacity: 0;\\n            }\\n          }\\n        \"}),/*#__PURE__*/_jsxs(\"div\",{style:getErrorStyle(),children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,marginRight:'12px'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:'bold',marginBottom:'8px'},children:getErrorTitle(errorType)}),/*#__PURE__*/_jsx(\"div\",{style:{whiteSpace:'pre-line'},children:userMessage})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,style:{background:'none',border:'none',color:'white',fontSize:'18px',cursor:'pointer',padding:'0',width:'24px',height:'24px',display:'flex',alignItems:'center',justifyContent:'center'},title:\"Cerrar\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'12px',display:'flex',gap:'8px'},children:[isRecoverable&&/*#__PURE__*/_jsx(\"button\",{onClick:handleRetry,style:{backgroundColor:'rgba(255, 255, 255, 0.2)',border:'1px solid rgba(255, 255, 255, 0.3)',color:'white',padding:'6px 12px',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"Reintentar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleClose,style:{backgroundColor:'rgba(255, 255, 255, 0.2)',border:'1px solid rgba(255, 255, 255, 0.3)',color:'white',padding:'6px 12px',borderRadius:'4px',fontSize:'12px',cursor:'pointer'},children:\"Cerrar\"})]}),autoClose&&/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',bottom:0,left:0,height:'3px',backgroundColor:'rgba(255, 255, 255, 0.3)',animation:\"shrink \".concat(autoCloseDelay,\"ms linear\")}})]}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n          @keyframes shrink {\\n            from { width: 100%; }\\n            to { width: 0%; }\\n          }\\n        \"})]});};/**\n * Obtiene el título apropiado según el tipo de error\n */const getErrorTitle=errorType=>{switch(errorType){case'validation_error':return'Error de Validación';case'not_found_error':return'No Encontrado';case'duplicate_error':return'Recurso Duplicado';case'insufficient_stock_error':return'Stock Insuficiente';case'authentication_error':return'Error de Autenticación';case'authorization_error':return'Sin Permisos';case'network_error':return'Error de Conexión';case'timeout_error':return'Tiempo Agotado';case'business_logic_error':return'Error en la Operación';case'database_error':return'Error de Base de Datos';case'internal_server_error':return'Error del Servidor';default:return'Error';}};export default ErrorNotification;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}