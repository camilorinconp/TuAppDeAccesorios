{"ast":null,"code":"import _objectSpread from\"/Users/user/TuAppDeAccesorios/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import Pagination from'../components/Pagination';import ErrorNotification from'../components/ErrorNotification';import{useProductsApi}from'../hooks/useApiError';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const InventoryPage=()=>{const[products,setProducts]=useState([]);const[productListData,setProductListData]=useState(null);const[currentPage,setCurrentPage]=useState(1);const[itemsPerPage]=useState(10);const[newProduct,setNewProduct]=useState({sku:'',name:'',cost_price:undefined,selling_price:undefined,stock_quantity:undefined});const[editingProduct,setEditingProduct]=useState(null);const[success,setSuccess]=useState(null);// Usar el hook de API con manejo de errores\nconst{error,isLoading,clearError,createProduct,updateProduct,getProducts}=useProductsApi();useEffect(()=>{fetchProducts();},[currentPage]);const fetchProducts=async()=>{const skip=(currentPage-1)*itemsPerPage;const data=await getProducts(skip,itemsPerPage);if(data){if(Array.isArray(data)){setProducts(data);setProductListData({products:data,total:data.length,skip:skip,limit:itemsPerPage,has_next:false});}else{setProductListData(data);setProducts(data.products);}}};const handleCreateProduct=async e=>{e.preventDefault();setSuccess(null);await createProduct(newProduct,()=>{setSuccess(\"Producto creado con éxito.\");setNewProduct({sku:'',name:'',cost_price:undefined,selling_price:undefined,stock_quantity:undefined});// Volver a la primera página después de crear\nif(currentPage!==1){setCurrentPage(1);}else{fetchProducts();}});};const handleUpdateProduct=async e=>{e.preventDefault();setSuccess(null);if(!editingProduct)return;await updateProduct(editingProduct.id,editingProduct,()=>{setSuccess(\"Producto actualizado con éxito.\");setEditingProduct(null);fetchProducts();});};const handlePageChange=page=>{setCurrentPage(page);setEditingProduct(null);// Cerrar edición al cambiar página\n};const totalPages=productListData?Math.ceil(productListData.total/itemsPerPage):1;return/*#__PURE__*/_jsxs(\"div\",{style:{padding:'20px'},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Gesti\\xF3n de Inventario\"}),/*#__PURE__*/_jsx(ErrorNotification,{error:error,onClose:clearError}),success&&/*#__PURE__*/_jsx(\"div\",{style:{padding:'10px',backgroundColor:'#d4edda',border:'1px solid #c3e6cb',borderRadius:'4px',color:'#155724',marginBottom:'20px'},children:success}),/*#__PURE__*/_jsx(\"h2\",{children:\"Crear Nuevo Producto\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleCreateProduct,style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'10px',marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"SKU (ej: CASE001)\",value:newProduct.sku,onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{sku:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nombre del Producto (ej: Funda iPhone 14)\",value:newProduct.name,onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{name:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Precio Costo en COP (ej: 15000)\",value:newProduct.cost_price||'',onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{cost_price:e.target.value?parseFloat(e.target.value):undefined})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Precio Venta en COP (ej: 25000)\",value:newProduct.selling_price||'',onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{selling_price:e.target.value?parseFloat(e.target.value):undefined})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Cantidad en Stock (ej: 50)\",value:newProduct.stock_quantity||'',onChange:e=>setNewProduct(_objectSpread(_objectSpread({},newProduct),{},{stock_quantity:e.target.value?parseInt(e.target.value):undefined})),required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,children:isLoading?'Creando...':'Crear Producto'})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Lista de Productos\"}),productListData&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'10px',fontSize:'14px',color:'#666'},children:[\"Mostrando \",products.length,\" de \",productListData.total,\" productos\"]}),isLoading&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px'},children:\"Cargando productos...\"}),/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'12px',textAlign:'left'},children:\"SKU\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'12px',textAlign:'left'},children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'12px',textAlign:'right'},children:\"Costo (COP)\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'12px',textAlign:'right'},children:\"Venta (COP)\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'12px',textAlign:'right'},children:\"Stock\"}),/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid #ddd',padding:'12px',textAlign:'center'},children:\"Acciones\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(product=>/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:product.stock_quantity===0?'#fff3cd':'white'},children:[/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:product.sku}),/*#__PURE__*/_jsxs(\"td\",{style:{border:'1px solid #ddd',padding:'8px'},children:[product.name,product.stock_quantity===0&&/*#__PURE__*/_jsx(\"span\",{style:{color:'#856404',fontSize:'12px',marginLeft:'5px'},children:\"(Sin stock)\"})]}),/*#__PURE__*/_jsxs(\"td\",{style:{border:'1px solid #ddd',padding:'8px',textAlign:'right'},children:[\"$\",product.cost_price.toLocaleString('es-CO')]}),/*#__PURE__*/_jsxs(\"td\",{style:{border:'1px solid #ddd',padding:'8px',textAlign:'right'},children:[\"$\",product.selling_price.toLocaleString('es-CO')]}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px',textAlign:'right'},children:product.stock_quantity}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid #ddd',padding:'8px',textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setEditingProduct(product),style:{padding:'6px 12px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},disabled:isLoading,children:\"Editar\"})})]},product.id))})]}),/*#__PURE__*/_jsx(Pagination,{currentPage:currentPage,totalPages:totalPages,onPageChange:handlePageChange,disabled:isLoading}),editingProduct&&/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:'20px',border:'1px solid #ccc',padding:'20px',borderRadius:'4px',backgroundColor:'#f8f9fa'},children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Editar Producto: \",editingProduct.name]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleUpdateProduct,style:{display:'grid',gridTemplateColumns:'1fr 1fr',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"SKU (ej: CASE001)\",value:editingProduct.sku,onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{sku:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Nombre del Producto (ej: Funda iPhone 14)\",value:editingProduct.name,onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{name:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"Precio Costo en COP (ej: 15000)\",value:editingProduct.cost_price,onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{cost_price:parseFloat(e.target.value)})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",placeholder:\"Precio Venta en COP (ej: 25000)\",value:editingProduct.selling_price,onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{selling_price:parseFloat(e.target.value)})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",placeholder:\"Cantidad en Stock (ej: 50)\",value:editingProduct.stock_quantity,onChange:e=>setEditingProduct(_objectSpread(_objectSpread({},editingProduct),{},{stock_quantity:parseInt(e.target.value)})),required:true}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:isLoading,style:{padding:'8px 16px',backgroundColor:'#28a745',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:isLoading?'Guardando...':'Guardar Cambios'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setEditingProduct(null),style:{padding:'8px 16px',backgroundColor:'#6c757d',color:'white',border:'none',borderRadius:'4px',cursor:'pointer'},children:\"Cancelar\"})]})]})]})]});};export default InventoryPage;","map":{"version":3,"names":["React","useState","useEffect","Pagination","ErrorNotification","useProductsApi","jsx","_jsx","jsxs","_jsxs","InventoryPage","products","setProducts","productListData","setProductListData","currentPage","setCurrentPage","itemsPerPage","newProduct","setNewProduct","sku","name","cost_price","undefined","selling_price","stock_quantity","editingProduct","setEditingProduct","success","setSuccess","error","isLoading","clearError","createProduct","updateProduct","getProducts","fetchProducts","skip","data","Array","isArray","total","length","limit","has_next","handleCreateProduct","e","preventDefault","handleUpdateProduct","id","handlePageChange","page","totalPages","Math","ceil","style","padding","children","onClose","backgroundColor","border","borderRadius","color","marginBottom","onSubmit","display","gridTemplateColumns","gap","type","placeholder","value","onChange","_objectSpread","target","required","parseFloat","parseInt","disabled","fontSize","textAlign","width","borderCollapse","map","product","marginLeft","toLocaleString","onClick","cursor","onPageChange","marginTop","step"],"sources":["/Users/user/TuAppDeAccesorios/frontend/src/pages/InventoryPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Product, ProductListResponse } from '../types';\nimport Pagination from '../components/Pagination';\nimport ErrorNotification from '../components/ErrorNotification';\nimport { useProductsApi } from '../hooks/useApiError';\n\nconst InventoryPage: React.FC = () => {\n  const [products, setProducts] = useState<Product[]>([]);\n  const [productListData, setProductListData] = useState<ProductListResponse | null>(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage] = useState(10);\n  const [newProduct, setNewProduct] = useState<Partial<Product>>({\n    sku: '', name: '', cost_price: undefined, selling_price: undefined, stock_quantity: undefined\n  });\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  \n  // Usar el hook de API con manejo de errores\n  const {\n    error,\n    isLoading,\n    clearError,\n    createProduct,\n    updateProduct,\n    getProducts\n  } = useProductsApi();\n\n  useEffect(() => {\n    fetchProducts();\n  }, [currentPage]);\n\n  const fetchProducts = async () => {\n    const skip = (currentPage - 1) * itemsPerPage;\n    const data = await getProducts(skip, itemsPerPage);\n    \n    if (data) {\n      if (Array.isArray(data)) {\n        setProducts(data);\n        setProductListData({ products: data, total: data.length, skip: skip, limit: itemsPerPage, has_next: false });\n      } else {\n        setProductListData(data);\n        setProducts(data.products);\n      }\n    }\n  };\n\n  const handleCreateProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSuccess(null);\n    \n    await createProduct(newProduct as Product, () => {\n      setSuccess(\"Producto creado con éxito.\");\n      setNewProduct({ sku: '', name: '', cost_price: undefined, selling_price: undefined, stock_quantity: undefined });\n      \n      // Volver a la primera página después de crear\n      if (currentPage !== 1) {\n        setCurrentPage(1);\n      } else {\n        fetchProducts();\n      }\n    });\n  };\n\n  const handleUpdateProduct = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setSuccess(null);\n    \n    if (!editingProduct) return;\n    \n    await updateProduct(editingProduct.id, editingProduct, () => {\n      setSuccess(\"Producto actualizado con éxito.\");\n      setEditingProduct(null);\n      fetchProducts();\n    });\n  };\n\n  const handlePageChange = (page: number) => {\n    setCurrentPage(page);\n    setEditingProduct(null); // Cerrar edición al cambiar página\n  };\n\n  const totalPages = productListData ? Math.ceil(productListData.total / itemsPerPage) : 1;\n\n  return (\n    <div style={{ padding: '20px' }}>\n      <h1>Gestión de Inventario</h1>\n      \n      {/* Notificación de error */}\n      <ErrorNotification \n        error={error} \n        onClose={clearError} \n      />\n      \n      {/* Mensaje de éxito */}\n      {success && (\n        <div style={{ \n          padding: '10px', \n          backgroundColor: '#d4edda', \n          border: '1px solid #c3e6cb', \n          borderRadius: '4px', \n          color: '#155724',\n          marginBottom: '20px'\n        }}>\n          {success}\n        </div>\n      )}\n\n      <h2>Crear Nuevo Producto</h2>\n      <form onSubmit={handleCreateProduct} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px', marginBottom: '20px' }}>\n        <input type=\"text\" placeholder=\"SKU (ej: CASE001)\" value={newProduct.sku} onChange={e => setNewProduct({ ...newProduct, sku: e.target.value })} required />\n        <input type=\"text\" placeholder=\"Nombre del Producto (ej: Funda iPhone 14)\" value={newProduct.name} onChange={e => setNewProduct({ ...newProduct, name: e.target.value })} required />\n        <input type=\"number\" placeholder=\"Precio Costo en COP (ej: 15000)\" value={newProduct.cost_price || ''} onChange={e => setNewProduct({ ...newProduct, cost_price: e.target.value ? parseFloat(e.target.value) : undefined })} required />\n        <input type=\"number\" placeholder=\"Precio Venta en COP (ej: 25000)\" value={newProduct.selling_price || ''} onChange={e => setNewProduct({ ...newProduct, selling_price: e.target.value ? parseFloat(e.target.value) : undefined })} required />\n        <input type=\"number\" placeholder=\"Cantidad en Stock (ej: 50)\" value={newProduct.stock_quantity || ''} onChange={e => setNewProduct({ ...newProduct, stock_quantity: e.target.value ? parseInt(e.target.value) : undefined })} required />\n        <button type=\"submit\" disabled={isLoading}>\n          {isLoading ? 'Creando...' : 'Crear Producto'}\n        </button>\n      </form>\n\n      <h2>Lista de Productos</h2>\n      {productListData && (\n        <div style={{ marginBottom: '10px', fontSize: '14px', color: '#666' }}>\n          Mostrando {products.length} de {productListData.total} productos\n        </div>\n      )}\n      \n      {isLoading && (\n        <div style={{ textAlign: 'center', padding: '20px' }}>\n          Cargando productos...\n        </div>\n      )}\n      \n      <table style={{ width: '100%', borderCollapse: 'collapse' }}>\n        <thead>\n          <tr style={{ backgroundColor: '#f8f9fa' }}>\n            <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'left' }}>SKU</th>\n            <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'left' }}>Nombre</th>\n            <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'right' }}>Costo (COP)</th>\n            <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'right' }}>Venta (COP)</th>\n            <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'right' }}>Stock</th>\n            <th style={{ border: '1px solid #ddd', padding: '12px', textAlign: 'center' }}>Acciones</th>\n          </tr>\n        </thead>\n        <tbody>\n          {products.map(product => (\n            <tr key={product.id} style={{ \n              backgroundColor: product.stock_quantity === 0 ? '#fff3cd' : 'white' \n            }}>\n              <td style={{ border: '1px solid #ddd', padding: '8px' }}>{product.sku}</td>\n              <td style={{ border: '1px solid #ddd', padding: '8px' }}>\n                {product.name}\n                {product.stock_quantity === 0 && (\n                  <span style={{ color: '#856404', fontSize: '12px', marginLeft: '5px' }}>\n                    (Sin stock)\n                  </span>\n                )}\n              </td>\n              <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'right' }}>\n                ${product.cost_price.toLocaleString('es-CO')}\n              </td>\n              <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'right' }}>\n                ${product.selling_price.toLocaleString('es-CO')}\n              </td>\n              <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'right' }}>\n                {product.stock_quantity}\n              </td>\n              <td style={{ border: '1px solid #ddd', padding: '8px', textAlign: 'center' }}>\n                <button \n                  onClick={() => setEditingProduct(product)}\n                  style={{\n                    padding: '6px 12px',\n                    backgroundColor: '#6c757d',\n                    color: 'white',\n                    border: 'none',\n                    borderRadius: '4px',\n                    cursor: 'pointer'\n                  }}\n                  disabled={isLoading}\n                >\n                  Editar\n                </button>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n\n      {/* Componente de paginación */}\n      <Pagination\n        currentPage={currentPage}\n        totalPages={totalPages}\n        onPageChange={handlePageChange}\n        disabled={isLoading}\n      />\n\n      {editingProduct && (\n        <div style={{ \n          marginTop: '20px', \n          border: '1px solid #ccc', \n          padding: '20px',\n          borderRadius: '4px',\n          backgroundColor: '#f8f9fa'\n        }}>\n          <h2>Editar Producto: {editingProduct.name}</h2>\n          <form onSubmit={handleUpdateProduct} style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gap: '10px' }}>\n            <input \n              type=\"text\" \n              placeholder=\"SKU (ej: CASE001)\" \n              value={editingProduct.sku} \n              onChange={e => setEditingProduct({ ...editingProduct, sku: e.target.value })} \n              required \n            />\n            <input \n              type=\"text\" \n              placeholder=\"Nombre del Producto (ej: Funda iPhone 14)\" \n              value={editingProduct.name} \n              onChange={e => setEditingProduct({ ...editingProduct, name: e.target.value })} \n              required \n            />\n            <input \n              type=\"number\" \n              step=\"0.01\"\n              placeholder=\"Precio Costo en COP (ej: 15000)\" \n              value={editingProduct.cost_price} \n              onChange={e => setEditingProduct({ ...editingProduct, cost_price: parseFloat(e.target.value) })} \n              required \n            />\n            <input \n              type=\"number\" \n              step=\"0.01\"\n              placeholder=\"Precio Venta en COP (ej: 25000)\" \n              value={editingProduct.selling_price} \n              onChange={e => setEditingProduct({ ...editingProduct, selling_price: parseFloat(e.target.value) })} \n              required \n            />\n            <input \n              type=\"number\" \n              placeholder=\"Cantidad en Stock (ej: 50)\" \n              value={editingProduct.stock_quantity} \n              onChange={e => setEditingProduct({ ...editingProduct, stock_quantity: parseInt(e.target.value) })} \n              required \n            />\n            <div style={{ display: 'flex', gap: '10px' }}>\n              <button \n                type=\"submit\" \n                disabled={isLoading}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: '#28a745',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n              >\n                {isLoading ? 'Guardando...' : 'Guardar Cambios'}\n              </button>\n              <button \n                type=\"button\" \n                onClick={() => setEditingProduct(null)}\n                style={{\n                  padding: '8px 16px',\n                  backgroundColor: '#6c757d',\n                  color: 'white',\n                  border: 'none',\n                  borderRadius: '4px',\n                  cursor: 'pointer'\n                }}\n              >\n                Cancelar\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default InventoryPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}